(this["webpackJsonpdapp-boilerplate"]=this["webpackJsonpdapp-boilerplate"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return p}));var a=n(7),c=n(1),r=n.n(c),i=n(120),s=n(13),o=n(22);function l(e,t){switch(t.type){case"login":var n=t.address,a=!(!n&&""===n);return Object(o.c)("logged_in",a),Object(o.c)("address",n),Object(s.a)(Object(s.a)({},e),{},{address:n,loggedIn:a});case"ledgerLogin":var c=t.ledgerLogin;return Object(o.c)("ledgerLogin",c),Object(s.a)(Object(s.a)({},e),{},{ledgerLogin:c});case"loading":var r=t.loading;return Object(s.a)(Object(s.a)({},e),{},{loading:r});case"setProvider":var l=t.provider;return Object(s.a)(Object(s.a)({},e),{},{dapp:Object(s.a)(Object(s.a)({},e.dapp),{},{provider:l})});case"setAccount":var d=t.account;return Object(s.a)(Object(s.a)({},e),{},{account:d});case"setContractOverview":var u=t.contractOverview;return Object(s.a)(Object(s.a)({},e),{},{contractOverview:u});case"setNetworkConfig":var b=t.networkConfig;return Object(s.a)(Object(s.a)({},e),{},{networkConfig:b});case"setAgencyMetaData":var m=t.agencyMetaData;return Object(s.a)(Object(s.a)({},e),{},{agencyMetaData:m});case"setNumberOfActiveNodes":var j=t.numberOfActiveNodes;return Object(s.a)(Object(s.a)({},e),{},{numberOfActiveNodes:j});case"setNumUsers":var p=t.numUsers;return Object(s.a)(Object(s.a)({},e),{},{numUsers:p});case"setMinDelegationAmount":var h=t.minDelegationAmount;return Object(s.a)(Object(s.a)({},e),{},{minDelegationAmount:h});case"setTotalActiveStake":var f=t.totalActiveStake;return Object(s.a)(Object(s.a)({},e),{},{totalActiveStake:f});case"setAprPercentage":var g=t.aprPercentage;return Object(s.a)(Object(s.a)({},e),{},{aprPercentage:g});case"setLedgerAccount":var O=t.ledgerAccount;return Object(s.a)(Object(s.a)({},e),{},{ledgerAccount:O});case"setWalletConnectLogin":var v=t.walletConnectLogin;return Object(o.c)("walletConnectLogin",v),Object(s.a)(Object(s.a)({},e),{},{walletConnectLogin:v});case"setWalletConnectAccount":var x=t.walletConnectAccount;return Object(s.a)(Object(s.a)({},e),{},{walletConnectAccount:x});case"logout":return t.provider.logout().then().catch((function(e){return console.error("logout",e)})),Object(o.b)("logged_in"),Object(o.b)("address"),Object(o.b)("ledgerLogin"),Object(o.b)("walletConnectLogin"),Object(i.b)();default:throw new Error("Unhandled action type: ".concat(t.type))}}var d=n(0),u=r.a.createContext(void 0),b=r.a.createContext(void 0);function m(e){var t=e.children,n=r.a.useReducer(l,Object(i.b)()),c=Object(a.a)(n,2),s=c[0],o=c[1];return Object(d.jsx)(u.Provider,{value:s,children:Object(d.jsx)(b.Provider,{value:o,children:t})})}function j(){var e=r.a.useContext(u);if(void 0===e)throw new Error("useState must be used within a Context.Provider");return e}function p(){var e=r.a.useContext(b);if(void 0===e)throw new Error("useDispatch must be used within a Dispatch.Provider");return e}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=n(17),c=n.n(a);function r(e,t){var n=e.toString().split("."),a=void 0!==t?t:18;if(n[1])for(;"0"===n[1].substring(n[1].length-1)&&n[1].length>1;)n[1]=n[1].substring(0,n[1].length-1);var c=n[1]?a-n[1].length:a;c=c<0?0:c;for(var r=n.join("")+"0".repeat(c);"0"===r.substring(0,1)&&r.length>1;)r=r.substring(1);return r}var i=function(e){var t=e&&e.length>0?new c.a(r(e)).toString(16):"0";return t.length%2!==0&&(t="0"+t),t}},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(2),c=n(17),r=n.n(c),i=n(9),s=n(22),o={id:"not-configured",name:"NOT CONFIGURED",egldLabel:"",walletAddress:"",apiAddress:"",gatewayAddress:"",explorerAddress:"",delegationContract:""},l={balance:"...",nonce:new a.Nonce(0)},d={name:"",website:"",keybase:""},u={roundDuration:-1,roundsPerEpoch:-1,roundsPassedInCurrentEpoch:-1,topUpFactor:-1,topUpRewardsGradientPoint:new r.a("-1"),chainId:new a.ChainID("-1")},b={ownerAddress:"",serviceFee:"",maxDelegationCap:"",initialOwnerFunds:"",automaticActivation:"false",withDelegationCap:"false",changeableServiceFee:"false",reDelegationCap:"false",createdNounce:"false",unBondPeriod:0},m=function(){var e=i.i||o;return{denomination:i.e,decimals:i.b,dapp:{provider:new a.WalletProvider(e.walletAddress),proxy:new a.ProxyProvider(void 0!==e.gatewayAddress?null===e||void 0===e?void 0:e.gatewayAddress:"https://gateway.elrond.com",4e3),apiProvider:new a.ApiProvider(void 0!==e.apiAddress?null===e||void 0===e?void 0:e.apiAddress:"https://gateway.elrond.com",4e3)},loading:!1,error:"",loggedIn:!!Object(s.a)("logged_in"),ledgerLogin:Object(s.a)("ledgerLogin"),walletConnectLogin:Object(s.a)("walletConnectLogin"),address:Object(s.a)("address"),account:l,egldLabel:null===e||void 0===e?void 0:e.egldLabel,explorerAddress:e.explorerAddress||"https://gateway.elrond.com",delegationContract:e.delegationContract,contractOverview:b,networkConfig:u,agencyMetaData:d,numberOfActiveNodes:"...",numUsers:0,minDelegationAmount:-1,totalActiveStake:"...",aprPercentage:"...",ledgerAccount:Object(s.a)("ledgerAccountIndex")&&Object(s.a)("address")?{index:Object(s.a)("ledgerAccountIndex"),address:Object(s.a)("address")}:void 0,walletConnectAccount:Object(s.a)("address")}}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a.a}));var a=n(31),c=(n(179),n(17)),r=n.n(c),i=n(9),s=n(21);function o(e){var t=e.balance,n=e.gasLimit,a=e.gasPrice,c=e.denomination,o=e.decimals,l=new r.a(t),d=new r.a(i.h),u=new r.a(a),b=new r.a(n),m=l.minus(u.times(b)),j=m.minus(d),p=1===m.comparedTo(0)?Object(s.a)({input:m.toString(10),denomination:c,decimals:o,showLastNonZeroDecimal:!0,addCommas:!1}):"0";return{entireBalance:p,entireBalanceMinusDust:1===j.comparedTo(0)?Object(s.a)({input:j.toString(10),denomination:c,decimals:o,showLastNonZeroDecimal:!0,addCommas:!1}):p}}n(117),n(394)},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n(18),c=n(2),r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"false",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"false",o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"false",d=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;Object(a.a)(this,e),this.ownerAddress=void 0,this.serviceFee=void 0,this.maxDelegationCap=void 0,this.initialOwnerFunds=void 0,this.automaticActivation=void 0,this.withDelegationCap=void 0,this.changeableServiceFee=void 0,this.reDelegationCap=void 0,this.createdNounce=void 0,this.unBondPeriod=void 0,this.ownerAddress=t,this.serviceFee=n,this.maxDelegationCap=c,this.initialOwnerFunds=r,this.automaticActivation=i,this.withDelegationCap=s,this.changeableServiceFee=o,this.reDelegationCap=l,this.createdNounce=d,this.unBondPeriod=u},i=function e(t,n,c,r){Object(a.a)(this,e),this.totalValidators=void 0,this.activeValidators=void 0,this.queueSize=void 0,this.totalStaked=void 0,this.totalValidators=t,this.activeValidators=n,this.queueSize=c,this.totalStaked=r},s=function e(t){Object(a.a)(this,e),this.epoch=void 0,this.epoch=t},o=function e(t,n,c,r,i,s){Object(a.a)(this,e),this.topUpFactor=void 0,this.roundDuration=void 0,this.roundsPerEpoch=void 0,this.roundsPassedInCurrentEpoch=void 0,this.topUpRewardsGradientPoint=void 0,this.chainId=void 0,this.topUpFactor=t,this.roundDuration=n,this.roundsPerEpoch=c,this.roundsPassedInCurrentEpoch=r,this.topUpRewardsGradientPoint=i,this.chainId=s},l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(a.a)(this,e),this.name=void 0,this.website=void 0,this.keybase=void 0,this.name=t,this.website=n,this.keybase=c},d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;Object(a.a)(this,e),this.balance=void 0,this.nonce=void 0,this.balance=t,this.nonce=n},u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new c.ChainID("T");Object(a.a)(this,e),this.value=void 0,this.type=void 0,this.chainId=void 0,this.args=void 0,this.value=t,this.type=n,this.args=r,this.chainId=i}},179:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(4),c=n.n(a),r=n(19),i=n(2);function s(e){if(!e)return new Uint8Array;for(var t=[],n=0,a=e.length;n<a;n+=2)t.push(parseInt(e.substr(n,2),16));return new Uint8Array(t)}function o(e,t){var n=e.toString().substring(t[0],t[1]).split(" ");return n[4]?n[4]:""}function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(c.a.mark((function t(n,a){var r,l,d,u,b,m,j,p,h,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.BLS.initIfNecessary();case 2:for(r=i.ValidatorSecretKey.fromPem(n),l=new i.Address(a),d=r.sign(e.from(l.pubkey())).toString("hex"),u=/-----/gi,m=[];b=u.exec(n.toString());)m.push(b.index);return j=n.toString().substring(m[1]+6,m[2]-1),p=window.atob(j),h=s(p),f=o(n,m),t.abrupt("return",{value:h,pubKey:f,signature:d});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(12).Buffer)},191:function(e,t,n){"use strict";var a=n(855),c=n(0),r=function(e){var t=e.actionTitle,n=e.color,a=e.handleContinue,r=e.handleClose;return Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-wrap",children:[Object(c.jsx)("button",{onClick:function(){a()},className:"btn btn-".concat(n," mx-2"),children:t}),Object(c.jsx)("button",{id:"closeButton",className:"btn btn-link mx-2",onClick:r,children:"Close"})]})};t.a=function(e){var t=e.show,n=e.title,i=e.actionTitle,s=e.description,o=e.extraDescription,l=e.handleClose,d=e.handleContinue;return Object(c.jsx)(a.a,{show:t,onHide:l,className:"modal-container",animation:!1,centered:!0,children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(c.jsx)("p",{className:"h6 mb-spacer","data-testid":"delegateTitle",children:n}),s&&Object(c.jsx)("p",{className:"mb-spacer",children:s}),o&&Object(c.jsx)("p",{className:"lead mb-spacer",children:o}),Object(c.jsx)(r,{actionTitle:i,handleContinue:d,handleClose:l,color:"primary"})]})})})}},21:function(e,t,n){"use strict";function a(e){var t=e.input,n=e.denomination,a=e.decimals,c=e.showLastNonZeroDecimal,r=void 0!==c&&c,i=e.addCommas;return"..."===t?t:(""!==t&&"0"!==t&&void 0!==t||(t="0"),function(e,t,n,a,c){a="undefined"!==typeof a&&a;var r=e.toString().split("");if(0!==t){for(;r.length<t+1;)r.unshift("0");for(r.splice(r.length-t,0,".");r.length-r.indexOf(".")<=n;)r.push("0");if(a){for(var i=0,s=r.length-1;s>0;s--)if("0"!==r[s]){i=s+1;break}var o=r.indexOf(".")+n+1,l=Math.max(o,i);r=r.slice(0,l)}else r=r.slice(0,r.indexOf(".")+n+1)}if(c){r=r.reverse();for(var d=t?r.length-r.indexOf(".")-1:r.length,u=Math.floor(d/3),b=1;b<=u;b++){var m=r.indexOf(".")+3*b+b;m!==r.length&&r.splice(m,0,",")}r=r.reverse()}var j=r.slice(r.indexOf(".")+1).every((function(e){return"0"===e.toString()})),p=r.join("");return j?p.split(".")[0]:0===n?p.split(".").join(""):p}(t,n,a,r,void 0===i||i))}n.d(t,"a",(function(){return a}))},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(68),c=n.n(a),r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600,a=c()().unix()+n;sessionStorage.setItem(e,JSON.stringify({expires:a,data:t}))},i=function(e){var t=sessionStorage.getItem(e);if(!t)return null;var n=JSON.parse(t);return n&&n.hasOwnProperty("expires")&&n.hasOwnProperty("data")?c()().unix()>=n.expires?(sessionStorage.removeItem(e),null):n.data:null},s=function(e){return sessionStorage.removeItem(e)}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var a=n(10),c=n(4),r=n.n(c),i=n(19),s=n(18),o=n(24),l=n(2),d=n(22),u=n(9),b=function(){function e(t,n,a,c){Object(s.a)(this,e),this.contract=void 0,this.proxyProvider=void 0,this.signerProvider=void 0,this.account=void 0;var r=new l.Address(n);this.contract=new l.SmartContract({address:r}),this.proxyProvider=t,this.signerProvider=a,this.account=c}return Object(o.a)(e,[{key:"sendTransaction",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signerProvider){e.next=2;break}throw new Error("You need a singer to send a transaction, use either WalletProvider or LedgerProvider");case 2:e.t0=this.signerProvider.constructor,e.next=e.t0===l.WalletProvider?5:e.t0===l.HWProvider?7:e.t0===l.WalletConnectProvider?8:9;break;case 5:return Object(d.c)("transaction_identifier",!0,120),e.abrupt("return",this.sendTransactionBasedOnType(t));case 7:case 8:return e.abrupt("return",this.sendTransactionBasedOnType(t));case 9:console.warn("invalid signerProvider");case 10:throw new Error("invalid signerProvider");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransactionBasedOnType",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,c,i,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.c.find((function(e){return e.name===t.type}))){e.next=5;break}throw new Error("The contract for this action in not defined");case 5:return c=n.data,""!==t.args&&(c="".concat(n.data).concat(t.args)),i=new l.ContractFunction(c),s=l.TransactionPayload.contractCall().setFunction(i).build(),o=new l.Transaction({chainID:t.chainId,receiver:this.contract.getAddress(),value:l.Balance.egld(t.value),gasLimit:new l.GasLimit(n.gasLimit),data:s,nonce:null===(a=this.account)||void 0===a?void 0:a.nonce}),e.next=12,this.signerProvider.sendTransaction(o);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),m=n(72);function j(e){var t=e.handleClose,n=e.setError,c=Object(a.b)(),r=c.dapp,i=c.delegationContract,s=c.account,o=c.networkConfig,l=new b(r.proxy,i,r.provider,s);return{sendTransaction:function(e){e.chainId=o.chainId,l.sendTransaction(e).then((function(e){t(e.getHash())})).catch((function(t){t.statusCode in m.a&&n(m.a[t.statusCode].message),"HWApp not initialised, call init() first"===t.message&&n("Your session has expired. Please login again"),"Failed or Rejected Request"===t.message&&n("Failed or Rejected Request. Please try again"),console.error("".concat(e.type),t)}))}}}function p(){var e=Object(a.b)(),t=e.dapp,n=e.delegationContract,c=e.account,r=new b(t.proxy,n,t.provider,c);return{sendTransactionWallet:function(e){r.sendTransaction(e).then().catch((function(t){console.error("".concat(e.type),t)}))}}}},35:function(e,t,n){"use strict";var a=n(7),c=n(1),r=n(855),i=n(123),s=n(2),o=n(34),l=n(49),d=n(10);var u=function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e})),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&(null===n||void 0===n||n.current())}),t);return function(){return clearInterval(e)}}}),[t])},b=n(38),m=n(0),j=function(e){var t=e.txHash,n=Object(d.b)().explorerAddress;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-spacer",children:"Transaction hash:"})," ",Object(m.jsx)("span",{"data-testid":"txHash",className:"text-break-all",children:t}),Object(m.jsx)("a",{href:"".concat(n,"transactions/").concat(t),target:"_blank",className:"ml-2",children:Object(m.jsx)(l.a,{icon:o.i,className:"text-muted"})})]})},p={pending:"Pending",notExecuted:"Not Executed",invalid:"Invalid",success:"Success",fail:"Fail"},h=function(e){var t=e.show,n=e.txHash,i=Object(c.useState)(p.pending),s=Object(a.a)(i,2),h=s[0],f=s[1],g=Object(c.useState)(!1),O=Object(a.a)(g,2),v=O[0],x=O[1],w=Object(c.useState)(1e3),y=Object(a.a)(w,1)[0],N=Object(c.useState)({icon:o.g,status:p.pending,title:"Procesing request"}),C=Object(a.a)(N,2),S=C[0],A=C[1],k=Object(d.b)().dapp,q=Object(b.g)(),E=function(){q.push("")},D=function(e){return h===e.toLowerCase()};u((function(){F(n),x((function(e){return!e}))}),"pending"===S.status.toLowerCase()?y:null),Object(c.useEffect)((function(){}),[h]);var F=function(e){n.isEmpty()||k.apiProvider.getTransaction(e).then((function(e){switch(!0){case D(p.success):A({icon:o.c,status:"Success",title:"Success"});break;case D(p.notExecuted):case D(p.invalid):case D(p.fail):A({icon:o.j,status:"Failed",title:"Request failed"});break;default:A({icon:o.g,status:"Pending",title:"Procesing request"})}f(e.status.status.valueOf().toLowerCase())})).catch((function(e){return console.log("error ",e)}))};return Object(m.jsx)(r.a,{show:t,onHide:E,className:"modal-container",animation:!1,centered:!0,children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(m.jsx)("div",{className:"h6 mb-spacer","data-testid":"transactionTitle",children:S.title}),Object(m.jsxs)("div",{className:"mb-spacer",children:[Object(m.jsx)(l.a,{icon:S.icon,className:"text-white ml-1 ".concat(D(p.pending)&&v?"fa-spin":"")}),Object(m.jsx)(j,{txHash:n.toString()})]}),Object(m.jsx)("button",{id:"closeButton",className:"btn btn-primary mx-2",onClick:E,disabled:D(p.pending),children:"Close"})]})})})};t.a=function(e){var t=e.show,n=e.transactionArguments,o=e.handleClose,l=Object(d.c)(),u=Object(d.b)(),j=u.egldLabel,p=u.delegationContract,f=u.dapp,g=Object(c.useState)(""),O=Object(a.a)(g,2),v=O[0],x=O[1],w=Object(c.useState)(!1),y=Object(a.a)(w,2),N=y[0],C=y[1],S=Object(c.useState)(new s.TransactionHash("")),A=Object(a.a)(S,2),k=A[0],q=A[1],E=Object(b.g)(),D=function(){C(!1),"Your session has expired. Please login again"===v&&l({type:"logout",provider:f.provider}),E.push("")},F=Object(i.b)({handleClose:function(e){q(e),o(),C(!0)},setError:x}).sendTransaction;return Object(c.useEffect)((function(){""!==n.type&&F(n)}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(r.a,{show:t,onHide:D,className:"modal-container",animation:!1,centered:!0,children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body p-spacer ",children:[Object(m.jsx)("div",{className:"h6 mb-spacer text-center","data-testid":"transactionTitle",children:"Confirm transaction on device"}),Object(m.jsxs)("div",{className:"form-group","data-testid":"transactionTitle",children:[Object(m.jsx)("span",{className:"form-label",children:"To: "}),p]}),Object(m.jsxs)("div",{className:"form-group","data-testid":"transactionTitle",children:[Object(m.jsx)("span",{className:"form-label",children:"Amount: "}),n.value," ",j]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("span",{className:"form-label",children:"Data: "}),n.type,"".concat(""!==n.args?"@"+n.args:"")]}),v&&Object(m.jsx)("p",{className:"text-danger d-flex justify-content-center align-items-center",children:v}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("button",{id:"closeButton",className:"btn btn-primary mx-2 ",onClick:D,disabled:""===v,children:"Close"})})]})})}),Object(m.jsx)(h,{show:N,txHash:k})]})}},394:function(e,t){},408:function(e,t,n){"use strict";(function(e){var a=n(7),c=n(35),r=n(191),i=n(10),s=n(15),o=n(31),l=n(1),d=n(0);t.a=function(t){var n=t.automaticFlag,u=Object(i.b)(),b=u.ledgerAccount,m=u.walletConnectAccount,j=Object(l.useState)(!1),p=Object(a.a)(j,2),h=p[0],f=p[1],g=Object(l.useState)(!1),O=Object(a.a)(g,2),v=O[0],x=O[1],w=Object(l.useState)(new s.d("","")),y=Object(a.a)(w,2),N=y[0],C=y[1],S=Object(o.b)().sendTransactionWallet;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){return f(!0)},className:"btn btn-primary text-white btn-sm mr-n1",children:"Change"}),Object(d.jsx)(r.a,{show:h,title:"Automatic Activation",actionTitle:"Turn ".concat("true"===n?"OFF":"ON"),description:"Set automatic activation",extraDescription:"Currently is ".concat("true"===n?"ON":"OFF"),handleClose:function(){f(!1)},handleContinue:function(){var t=e.from("true"===n?"false":"true").toString("hex"),a=new s.d("0","setAutomaticActivation",t);b||m?(f(!1),C(a),x(!0)):S(a)}}),Object(d.jsx)(c.a,{show:v,transactionArguments:N,handleClose:function(){x(!1)}})]})}}).call(this,n(12).Buffer)},409:function(e,t,n){"use strict";(function(e){var a=n(7),c=n(35),r=n(191),i=n(10),s=n(15),o=n(31),l=n(1),d=n(0);t.a=function(t){var n=t.automaticFlag,u=Object(i.b)(),b=u.ledgerAccount,m=u.walletConnectAccount,j=Object(l.useState)(!1),p=Object(a.a)(j,2),h=p[0],f=p[1],g=Object(l.useState)(!1),O=Object(a.a)(g,2),v=O[0],x=O[1],w=Object(l.useState)(new s.d("","")),y=Object(a.a)(w,2),N=y[0],C=y[1],S=Object(o.b)().sendTransactionWallet;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){return f(!0)},className:"btn btn-primary text-white btn-sm mr-n1",children:"Change"}),Object(d.jsx)(r.a,{show:h,title:"Check for ReDelegate Rewards Max Cap",actionTitle:"Turn ".concat("true"===n?"OFF":"ON"),description:"Set the check for ReDelegation Cap in order to block or accept the redelegate rewards.",extraDescription:"Currently is ".concat("true"===n?"ON":"OFF"),handleClose:function(){f(!1)},handleContinue:function(){var t=e.from("true"===n?"false":"true").toString("hex"),a=new s.d("0","setReDelegateCapActivation",t);b||m?(f(!1),C(a),x(!0)):S(a)}}),Object(d.jsx)(c.a,{show:v,transactionArguments:N,handleClose:function(){x(!1)}})]})}}).call(this,n(12).Buffer)},410:function(e,t,n){"use strict";(function(e){var a=n(7),c=n(1),r=n(855),i=n(42),s=n(26),o=n(10),l=n(15),d=n(62),u=n(31),b=n(35),m=n(0);t.a=function(){var t=Object(o.b)(),n=t.agencyMetaData,j=t.ledgerAccount,p=t.walletConnectAccount,h=Object(c.useState)(!1),f=Object(a.a)(h,2),g=f[0],O=f[1],v=Object(c.useState)(!1),x=Object(a.a)(v,2),w=x[0],y=x[1],N=Object(c.useState)(new l.d("","")),C=Object(a.a)(N,2),S=C[0],A=C[1],k=Object(u.b)().sendTransactionWallet;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){O(!0)},className:"btn btn-primary btn-sm ml-3",children:"Identity"}),Object(m.jsx)(r.a,{show:g,onHide:function(){return O(!1)},className:"modal-container",animation:!1,centered:!0,children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(m.jsx)("p",{className:"h6 mb-spacer","data-testid":"metaDataTitle",children:"Agency Details"}),Object(m.jsx)("p",{className:"mb-spacer",children:"Update or set your agency details in order to validate your identity."}),Object(m.jsx)(i.b,{initialValues:n,onSubmit:function(t){!function(t){var n=e.from(t.name).toString("hex")+"@"+e.from(t.website).toString("hex")+"@"+e.from(t.keybase).toString("hex"),a=new l.d("0","setMetaData",n);j||p?(O(!1),A(a),y(!0)):k(a)}(t)},validationSchema:Object(s.d)().shape({website:Object(s.e)().required("Required").test("URL","URL is not valid!",(function(e){var t=new RegExp(/^((?:http(?:s)?:\/\/)?[a-zA-Z0-9_-]+(?:.[a-zA-Z0-9_-]+)*.[a-zA-Z]{2,4}(?:\/[a-zA-Z0-9_]+)*(?:\/[a-zA-Z0-9_]+.[a-zA-Z]{2,4}(?:\?[a-zA-Z0-9_]+=[a-zA-Z0-9_]+)?)?(?:&[a-zA-Z0-9_]+=[a-zA-Z0-9_]+)*)$/);return!!(null===e||void 0===e?void 0:e.match(t))}))}),children:function(e){var t=e.handleSubmit,n=e.values,a=e.handleBlur,c=e.handleChange,r=e.errors,s=e.touched;return Object(m.jsxs)("form",{onSubmit:t,className:"text-left",children:[Object(m.jsxs)("div",{className:"form-group mb-spacer",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{type:"text",className:"form-control ".concat(r.name&&s.name?"is-invalid":""),id:"name",name:"name","data-testid":"name",required:!0,value:n.name,autoComplete:"off",onChange:c,onBlur:a}),Object(m.jsx)(i.a,{component:"div",name:"name",className:"invalid-feedback"})]}),Object(m.jsx)("label",{htmlFor:"website",children:"Website"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{type:"text",className:"form-control ".concat(r.website&&s.website?"is-invalid":""),id:"website",name:"website","data-testid":"website",required:!0,value:n.website,autoComplete:"off",onChange:c,onBlur:a}),Object(m.jsx)(i.a,{component:"div",name:"website",className:"invalid-feedback"})]}),Object(m.jsx)("label",{htmlFor:"website",children:"Keybase"}),Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{type:"text",className:"form-control ".concat(r.keybase&&s.keybase?"is-invalid":""),id:"keybase",name:"keybase","data-testid":"keybase",required:!0,value:n.keybase,autoComplete:"off",onChange:c,onBlur:a}),Object(m.jsx)(i.a,{component:"div",name:"keybase",className:"invalid-feedback"})]})]}),Object(m.jsx)(d.a,{action:"setPercentageFe",actionTitle:"Continue",handleClose:function(){O(!1)}})]})}})]})})}),Object(m.jsx)(b.a,{show:w,transactionArguments:S,handleClose:function(){y(!1)}})]})}}).call(this,n(12).Buffer)},602:function(e,t){},604:function(e,t){},614:function(e,t){},616:function(e,t){},62:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=e.action,n=e.actionTitle,c=e.isHandleActionDisabled,r=e.handleClose;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-wrap",children:[Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mx-2",id:"continue".concat(t),"data-testid":"continue".concat(t),disabled:c,children:n}),Object(a.jsx)("button",{id:"closeButton",className:"btn btn-link mx-2",onClick:r,children:"Close"})]})})}},634:function(e,t){},653:function(e,t){},655:function(e,t){},656:function(e,t){},661:function(e,t){},663:function(e,t){},669:function(e,t){},671:function(e,t){},690:function(e,t){},702:function(e,t){},705:function(e,t){},708:function(e,t,n){var a={"./bls.js":340,"./bls_c.js":373};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=708},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={36864:{code:"codeSuccess",message:"Success"},27013:{code:"ERR_USER_DENIED",message:"Rejected by user"},27904:{code:"ERR_UNKNOWN_INSTRUCTION",message:"Unknown instruction"},28160:{code:"ERR_WRONG_CLA",message:"Wrong CLA"},28161:{code:"ERR_INVALID_ARGUMENTS",message:"Invalid arguments"},28162:{code:"ERR_INVALID_MESSAGE",message:"Invalid message"},28163:{code:"ERR_INVALID_P1",message:"Invalid P1"},28164:{code:"ERR_MESSAGE_TOO_LONG",message:"Message too long"},28165:{code:"ERR_RECEIVER_TOO_LONG",message:"Receiver too long"},28166:{code:"ERR_AMOUNT_TOO_LONG",message:"Amount too long"},28167:{code:"ERR_CONTRACT_DATA_DISABLED",message:"Contract data disabled in app options"},28168:{code:"ERR_MESSAGE_INCOMPLETE",message:"Message incomplete"},28176:{code:"ERR_SIGNATURE_FAILED",message:"Signature failed"},28169:{code:"ERR_WRONG_TX_VERSION",message:"Wrong TX version"},28170:{code:"ERR_NONCE_TOO_LONG",message:"Nonce too long"},28171:{code:"ERR_INVALID_AMOUNT",message:"Invalid amount"},28172:{code:"ERR_INVALID_FEE",message:"Invalid fee"},28173:{code:"ERR_PRETTY_FAILED",message:"Pretty failed"},28174:{code:"ERR_DATA_TOO_LONG",message:"Data too long"},28175:{code:"ERR_WRONG_TX_OPTIONS",message:"Invalid transaction options"},28177:{code:"ERR_SIGN_TX_DEPRECATED",message:"Regular transaction signing is deprecated in this version. Use hash signing."}}},776:function(e,t){},851:function(e,t,n){},852:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(63),i=n.n(r),s=(n(854),n(53)),o=n(38),l=n(7),d=n(4),u=n.n(d),b=n(19),m=n(17),j=n.n(m),p=n(21),h=n(9),f=n(10),g=n(120),O=n(2),v=function(e,t,n){var a=new O.Query({address:new O.Address(n),func:new O.ContractFunction("getUserActiveStake"),args:[new O.AddressValue(new O.Address(t))]});return e.proxy.queryContract(a)},x=function(e,t,n){var a=new O.Query({address:new O.Address(n),func:new O.ContractFunction("getUserUnDelegatedList"),args:[new O.AddressValue(new O.Address(t))]});return e.proxy.queryContract(a)},w=function(e,t,n){var a=new O.Query({address:new O.Address(n),func:new O.ContractFunction("getClaimableRewards"),args:[new O.AddressValue(new O.Address(t))]});return e.proxy.queryContract(a)},y=function(e,t){var n=new O.Query({address:new O.Address(t),func:new O.ContractFunction("getTotalActiveStake")});return e.proxy.queryContract(n)},N=function(e,t){var n=new O.Query({address:new O.Address(t),func:new O.ContractFunction("getNumUsers")});return e.proxy.queryContract(n)},C=function(e,t){var n=new O.Query({address:new O.Address(t),func:new O.ContractFunction("getContractConfig")});return e.proxy.queryContract(n)},S=function(e,t){var n=new O.Query({address:new O.Address(t),func:new O.ContractFunction("getMetaData")});return e.proxy.queryContract(n)},A=function(e,t){var n=new O.Query({address:new O.Address(h.a),func:new O.ContractFunction("getBlsKeysStatus"),args:[new O.AddressValue(new O.Address(t))]});return e.proxy.queryContract(n)},k=function(e){var t=new O.Query({address:new O.Address(h.d),func:new O.ContractFunction("getContractConfig")});return e.proxy.queryContract(t)},q=n(15),E=function(e){return Object(p.a)({input:e,denomination:h.e,decimals:h.b}).replace(/,/g,"")},D=function(e){var t,n=e.stats,a=e.networkConfig,c=e.networkStake,r=e.blsKeys,i=e.totalActiveStake,s=r.filter((function(e){return"staked"===Object(O.decodeString)(e)||"jailed"===Object(O.decodeString)(e)||"queued"===Object(O.decodeString)(e)})).length,o=r.filter((function(e){return"staked"===Object(O.decodeString)(e)})).length;if(o<=0)return"0.00";var l=31536e3/(a.roundDuration/1e3*a.roundsPerEpoch),d=(null===(t=h.n.find((function(e){return e.year===Math.floor(n.epoch/l)+1})))||void 0===t?void 0:t.maximumInflation)||0,u=Math.max(d*h.g/l,h.f),b=(1-h.j)*u,m=a.topUpFactor*b,j=c.activeValidators*h.k,p=parseInt(E(c.totalStaked.toFixed()))-c.totalValidators*h.k-c.queueSize*h.k,f=2*m/Math.PI*Math.atan(p/(2*parseInt(E(a.topUpRewardsGradientPoint.toFixed())))),g=b-f,v=parseInt(E(i)),x=Math.min(Math.floor(v/h.k),o)*h.k,w=v-s*h.k;return(100*(l*((p>0?w/p*f:0)+x/j*g)/v)).toFixed(2)},F=n(0),L=function(){return Object(F.jsx)("footer",{className:"footer d-flex justify-content-center pb-spacer",children:Object(F.jsx)("a",{target:"_blank",rel:"noreferrer",className:"align-items-center",href:"https://elrond.com/",children:Object(F.jsx)("small",{children:"Powered by Elrond Network"})})})},T=function(e){var t=e.value,n=e.showLastNonZeroDecimal,a=void 0!==n&&n,c=e.showErd,r=void 0===c||c,i=e.decimals,s=Object(f.b)(),o=s.denomination,l=s.decimals,d=s.egldLabel;i=void 0!==i?i:l;var u=Object(p.a)({input:t,denomination:o,decimals:i,showLastNonZeroDecimal:a}),b=u.split("."),m=1===b.length;if(i>0&&m&&"0"!==u){for(var j="",h=1;h<=i;h++)j+="0";b.push(j)}return Object(F.jsxs)("span",{"data-testid":"denominateComponent",children:[Object(F.jsx)("span",{className:"int-amount",children:b[0]}),b.length>1&&Object(F.jsxs)("span",{className:"decimals",children:[".",b[1]]}),r&&Object(F.jsxs)("span",{className:"symbol",children:["\xa0",d]})]})};function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var I=a.createElement("g",{fill:"",fillRule:"evenodd"},a.createElement("path",{d:"M30.93 7.908a.737.737 0 0 1-.205-.503.707.707 0 0 1 1.206-.504c.141.142.213.32.213.504a.717.717 0 0 1-.71.71.713.713 0 0 1-.503-.207m-2.008 2.008a.74.74 0 0 1-.206-.504c0-.184.071-.361.206-.503a.715.715 0 0 1 1.007 0c.135.142.206.32.206.503 0 .178-.07.362-.206.504a.725.725 0 0 1-.503.206.725.725 0 0 1-.504-.206m-2.007 2a.71.71 0 1 1 1.007 0 .704.704 0 0 1-1.007 0m-2.008 2.008a.713.713 0 0 1 0-1 .716.716 0 0 1 1.007 0 .71.71 0 0 1 0 1 .696.696 0 0 1-.503.206.708.708 0 0 1-.504-.206m-2 2.008a.694.694 0 0 1 0-1 .693.693 0 0 1 1 0 .68.68 0 0 1 .205.496.685.685 0 0 1-.205.504.684.684 0 0 1-.504.205.68.68 0 0 1-.497-.205m-2.22 1.504c0-.178.072-.363.213-.504a.706.706 0 0 1 1.206.504.696.696 0 0 1-.206.503.713.713 0 0 1-1.213-.503zm-1.794 2.51a.697.697 0 0 1-.206-.503.705.705 0 1 1 1.411 0 .697.697 0 0 1-.205.504.71.71 0 0 1-1 0m-2.008 2a.71.71 0 0 1 0-1 .707.707 0 0 1 1 0c.142.141.213.318.213.503a.687.687 0 0 1-.213.497.685.685 0 0 1-.496.212.7.7 0 0 1-.504-.212m-2.007 2.007a.709.709 0 1 1 1.007 0 .703.703 0 0 1-1.007 0m-2.008 2.007a.707.707 0 0 1 0-1 .715.715 0 0 1 1.008 0 .71.71 0 0 1 0 1 .695.695 0 0 1-.504.207.695.695 0 0 1-.504-.207m-2 2.008a.692.692 0 0 1-.213-.504c0-.177.071-.36.213-.503a.72.72 0 0 1 1 0 .739.739 0 0 1 .206.503.713.713 0 0 1-.206.504.697.697 0 0 1-.504.206.681.681 0 0 1-.496-.206m-2.008 2.008a.693.693 0 0 1-.212-.504c0-.177.07-.362.212-.504a.72.72 0 0 1 1 0 .708.708 0 0 1 .207.504.686.686 0 0 1-.206.504.714.714 0 0 1-1 0m-2.008 2.007a.696.696 0 0 1-.206-.503.706.706 0 0 1 1.206-.504.704.704 0 0 1 0 1.007.712.712 0 0 1-1 0"}),a.createElement("path",{d:"M7.862 7.908a.737.737 0 0 0 .206-.503.707.707 0 0 0-1.206-.504.706.706 0 0 0-.213.504.717.717 0 0 0 .71.71c.184 0 .369-.071.503-.207M9.87 9.916a.74.74 0 0 0 .205-.504.727.727 0 0 0-.205-.503.715.715 0 0 0-1.007 0 .726.726 0 0 0-.206.503c0 .178.07.362.206.504.142.135.319.206.503.206s.362-.07.504-.206m2.007 2a.71.71 0 1 0-1.007 0 .704.704 0 0 0 1.007 0m2.008 2.008a.713.713 0 0 0 0-1 .716.716 0 0 0-1.007 0 .71.71 0 0 0 0 1c.142.142.319.206.503.206a.708.708 0 0 0 .504-.206m2 2.008a.694.694 0 0 0 0-1 .693.693 0 0 0-1 0 .68.68 0 0 0-.206.496c0 .184.064.369.206.504.135.142.32.205.504.205a.68.68 0 0 0 .496-.205m2.22 1.504a.718.718 0 0 0-.212-.504.706.706 0 0 0-1.206.504c0 .184.064.361.206.503a.713.713 0 0 0 1.213-.503zm1.795 2.51a.697.697 0 0 0 .206-.503.705.705 0 1 0-1.411 0c0 .184.063.362.205.504a.71.71 0 0 0 1 0m2.007 2a.71.71 0 0 0 0-1 .707.707 0 0 0-1 0 .704.704 0 0 0-.213.503c0 .177.072.362.214.497a.685.685 0 0 0 .496.212.7.7 0 0 0 .503-.212m2.008 2.007a.709.709 0 1 0-1.008 0 .703.703 0 0 0 1.007 0m2.008 2.007a.707.707 0 0 0 0-1 .715.715 0 0 0-1.007 0 .71.71 0 0 0 0 1c.142.143.32.207.504.207a.695.695 0 0 0 .503-.207m2 2.008a.692.692 0 0 0 .213-.504.716.716 0 0 0-.212-.503.72.72 0 0 0-1 0 .739.739 0 0 0-.206.503c0 .185.07.37.206.504.142.142.32.206.503.206a.681.681 0 0 0 .497-.206m2.007 2.008a.693.693 0 0 0 .213-.504.716.716 0 0 0-.213-.504.72.72 0 0 0-1 0 .708.708 0 0 0-.206.504c0 .184.064.369.206.504a.714.714 0 0 0 1 0m2.008 2.007a.696.696 0 0 0 .206-.503.706.706 0 0 0-1.206-.504.704.704 0 0 0 0 1.007.712.712 0 0 0 1 0M12.634 8.452L8.326 4.143C11.655 1.58 15.334.295 19.363.291c4.008-.004 7.69 1.284 11.045 3.86l-4.316 4.315c-2.06-1.34-4.304-2.01-6.733-2.005-2.46.005-4.7.671-6.725 1.99zM8.387 26.17l-4.305 4.305C1.54 27.142.267 23.463.272 19.435c.003-4.065 1.27-7.745 3.798-11.04L8.373 12.7c-1.35 2.042-2.03 4.286-2.035 6.733-.004 2.415.681 4.66 2.05 6.739zm17.74 4.282l4.291 4.291c-3.288 2.534-6.951 3.817-10.989 3.849-4.077.032-7.782-1.25-11.115-3.84l4.285-4.286c2.064 1.403 4.332 2.1 6.805 2.083 2.435-.017 4.675-.718 6.723-2.097zm4.243-17.756l4.31-4.311c2.592 3.332 3.873 7.037 3.841 11.115-.032 4.021-1.317 7.682-3.854 10.984l-4.306-4.306c1.329-2.02 2.01-4.227 2.04-6.625.029-2.486-.65-4.771-2.031-6.857zM34.843 31.836a2.994 2.994 0 1 1 0 5.989 2.994 2.994 0 0 1 0-5.989M3.986 31.842a2.994 2.994 0 1 1 0 5.989 2.994 2.994 0 0 1 0-5.989M34.871.957a2.994 2.994 0 1 1 0 5.988 2.994 2.994 0 0 1 0-5.988M3.91.904a2.994 2.994 0 1 1 0 5.988 2.994 2.994 0 0 1 0-5.988"}));function U(e,t){var n=e.title,c=e.titleId,r=P(e,["title","titleId"]);return a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:39,height:39,viewBox:"0 0 39 39",className:"logo show-sm",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,I)}var M=a.forwardRef(U),_=(n.p,function(){var e=Object(f.b)(),t=e.loggedIn,n=e.dapp,a=e.address,c=e.account,r=Object(f.c)();return Object(F.jsx)("div",{className:"navbar px-4 py-3 flex-nowrap",children:Object(F.jsxs)("div",{className:"container-fluid flex-nowrap",children:[Object(F.jsxs)("div",{className:"d-flex align-items-center mr-3",children:[Object(F.jsx)(M,{className:"logo mr-2 flex-shrink-0"}),Object(F.jsx)("span",{className:"h5 text-nowrap mb-0 p-0",children:"Delegation Manager"})]}),t&&Object(F.jsxs)("div",{className:"d-flex align-items-center",style:{minWidth:0},children:[Object(F.jsx)("small",{className:"d-none d-lg-inline text-muted mr-2",children:"Balance: "}),Object(F.jsx)("small",{className:"text-truncate mr-2",children:Object(F.jsx)(T,{value:c.balance.toString()})}),Object(F.jsx)("small",{className:"d-none d-lg-inline text-muted mr-2",children:"Wallet address: "}),Object(F.jsx)("small",{className:"text-truncate",children:a}),Object(F.jsx)("a",{href:"/#",onClick:function(){r({type:"logout",provider:n.provider})},className:"btn btn-primary btn-sm ml-3",children:"Close"})]})]})})}),B=n(116),z=n.n(B),W=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("".concat(h.i.apiAddress,"/accounts/").concat(h.a));case 2:if(!(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data.balance);case 7:return e.abrupt("return","N/A");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){var t=e.children,n=e.page,a=Object(f.c)(),r=Object(f.b)(),i=r.dapp,s=r.delegationContract,o=C,d=y,m=A,v=N,x=S,w=k,E=function(e){var t=e.outputUntyped(),n=Object(p.a)({decimals:h.b,denomination:h.e,input:Object(O.decodeBigNumber)(t[3]).toFixed()});return new q.c(t[0].toString("hex"),(Object(O.decodeUnsignedNumber)(t[1])/100).toString(),Object(O.decodeBigNumber)(t[2]).toFixed(),n,Object(O.decodeString)(t[4]),Object(O.decodeString)(t[5]),Object(O.decodeString)(t[6]),Object(O.decodeString)(t[7]),Object(O.decodeString)(t[8]),6*Object(O.decodeUnsignedNumber)(t[9]))},T=function(e){if(e&&e.returnData&&0===e.returnData.length)return g.a;var t=e.outputUntyped();return new q.b(Object(O.decodeString)(t[0]),Object(O.decodeString)(t[1]),Object(O.decodeString)(t[2]))};return c.a.useEffect((function(){Promise.all([x(i,s),v(i,s),o(i,s),d(i,s),m(i,s),i.apiProvider.getNetworkStats(),i.apiProvider.getNetworkStake(),i.proxy.getNetworkConfig(),i.proxy.getNetworkStatus(),w(i)]).then(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,c,r,i,s,o,d,b,m,p,h,f,g,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t,10),c=n[0],r=n[1],i=n[2],s=n[3],o=n[4],d=n[5],b=n[6],m=n[7],p=n[8],h=n[9],a({type:"setNumUsers",numUsers:Object(O.decodeUnsignedNumber)(r.outputUntyped()[0])}),a({type:"setMinDelegationAmount",minDelegationAmount:Object(O.decodeUnsignedNumber)(h.outputUntyped()[0])}),f=E(i),a({type:"setContractOverview",contractOverview:f}),a({type:"setAgencyMetaData",agencyMetaData:T(c)}),a({type:"setTotalActiveStake",totalActiveStake:Object(O.decodeBigNumber)(s.outputUntyped()[0]).toFixed()}),a({type:"setNumberOfActiveNodes",numberOfActiveNodes:o.outputUntyped().filter((function(e){return"staked"===Object(O.decodeString)(e)})).length.toString()}),a({type:"setNetworkConfig",networkConfig:new q.e(m.TopUpFactor,m.RoundDuration,m.RoundsPerEpoch,p.RoundsPassedInCurrentEpoch,new j.a(m.TopUpRewardsGradientPoint),m.ChainID)}),e.next=11,W();case 11:g=e.sent,v=parseFloat(D({stats:new q.g(d.Epoch),networkConfig:new q.e(m.TopUpFactor,m.RoundDuration,m.RoundsPerEpoch,p.RoundsPassedInCurrentEpoch,new j.a(m.TopUpRewardsGradientPoint),m.ChainID),networkStake:new q.f(b.TotalValidators,b.ActiveValidators,b.QueueSize,new j.a(g)),blsKeys:o.outputUntyped(),totalActiveStake:Object(O.decodeBigNumber)(s.outputUntyped()[0]).toFixed()})),a({type:"setAprPercentage",aprPercentage:(v-v*((f&&f.serviceFee?parseFloat(f.serviceFee):0)/100)).toFixed(2).toString()});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("To do ",e)}))}),[]),Object(F.jsxs)("div",{className:"layout d-flex flex-column min-vh-100 ".concat(n),children:["home"!==n&&Object(F.jsx)(_,{}),Object(F.jsx)("main",{className:"container flex-grow-1 d-flex p-3 p-sm-spacer",children:t}),Object(F.jsx)(L,{})]})},K=n(42),H=n(26),G=n(855),Q=n(123),Z=n(62),J=function(e){var t=e.show,n=e.balance,r=e.handleClose,i=e.handleContinue,s=Object(f.b)(),o=s.egldLabel,d=s.contractOverview,u=s.totalActiveStake,b=s.minDelegationAmount,m=Object(a.useState)(!1),g=Object(l.a)(m,2),O=g[0],v=g[1],x=c.a.useState(!1),w=Object(l.a)(x,2),y=w[0],N=w[1],C=Object(Q.a)({balance:n,gasPrice:"12000000",gasLimit:"12000000",denomination:h.e,decimals:h.b}),S=C.entireBalance,A=C.entireBalanceMinusDust,k=function(){var e=new j.a(u),t=new j.a(d.maxDelegationCap);return e.comparedTo(t)>=0&&d.maxDelegationCap!==String(0)},q=function(){if(d&&"true"===d.withDelegationCap){var e=new j.a(A),t=Object(p.a)({input:u,denomination:h.e,decimals:h.b}).replace(/,/g,""),n=Object(p.a)({input:d.maxDelegationCap,denomination:h.e,decimals:h.b}).replace(/,/g,""),a=new j.a(n).minus(new j.a(t));if(e.comparedTo(a)>=0)return v(!0),a.toFixed()}return A};return Object(F.jsx)(G.a,{show:t,onHide:r,onShow:function(){v(!1),N(!1)},className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(F.jsx)("p",{className:"h6 mb-spacer","data-testid":"delegateTitle",children:"Delegate now"}),k()?Object(F.jsx)("p",{className:"mb-spacer",children:"The maximum delegation cap was reached you can not delegate more"}):Object(F.jsx)("p",{className:"mb-spacer",children:"Select the amount of ".concat(o," you want to delegate.")}),Object(F.jsx)(K.b,{initialValues:{amount:Object(p.a)({input:b.toFixed(),denomination:h.e,decimals:h.b})},onSubmit:function(e){i(e.amount)},validationSchema:Object(H.d)().shape({amount:Object(H.e)().required("Required").test("minimum","Minimum ".concat(Object(p.a)({input:b.toFixed(),denomination:h.e,decimals:h.b})," ").concat(o),(function(e){return new j.a(void 0!==e?e:"").comparedTo(1)>=0})).test("maximum","Maximum ".concat(S," ").concat(o),(function(e){var t=new j.a(void 0!==e?e:""),n=new j.a(S);return t.comparedTo(n)<=0})).test("maximum","Max delegation cap set, use the max button to delegate the maximum amount",(function(e){var t=new j.a(void 0!==e?e:""),n=new j.a(q());return t.comparedTo(n)<=0}))}),children:function(e){var t=e.handleSubmit,a=e.values,c=e.handleBlur,i=e.handleChange,s=e.setFieldValue,l=e.errors,d=e.touched;return Object(F.jsxs)("form",{onSubmit:t,className:"text-left",children:[!k()&&Object(F.jsxs)("div",{className:"form-group mb-spacer",children:[Object(F.jsxs)("label",{htmlFor:"amount",children:["Amount ",o]}),Object(F.jsxs)("div",{className:"input-group",children:[Object(F.jsx)("input",{type:"number",className:"form-control ".concat(l.amount&&d.amount?"is-invalid":""),id:"amount",name:"amount","data-testid":"amount",step:"any",required:!0,value:a.amount,autoComplete:"off",onChange:i,onBlur:c}),a.amount!==S&&"0"!==S&&Object(F.jsx)("span",{className:"input-group-append",children:Object(F.jsx)("a",{href:"/#",className:"input-group-text text-dark",onClick:function(e){if(e.preventDefault(),void 0!==A){N(!0);var t=q();s("amount",t)}},"data-testid":"maxBtn",children:"Max"})}),Object(F.jsx)(K.a,{component:"div",name:"amount",className:"invalid-feedback"})]}),!(l.amount&&d.amount)&&Object(F.jsxs)("small",{className:"form-text",children:["Available: ",Object(F.jsx)(T,{value:n})]}),O&&y&&Object(F.jsxs)("small",{className:"form-text",children:["Max delegation cap reached. That is the maximum amount you can delegate:"," "]})]}),Object(F.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-wrap",children:Object(F.jsx)(Z.a,{action:"delegate",actionTitle:"Continue",isHandleActionDisabled:k(),handleClose:r})})]})}})]})})})},Y=n(35),X=n(31),$=function(){var e=Object(f.b)(),t=e.account,n=e.ledgerAccount,c=e.walletConnectAccount,r=Object(a.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],m=u[1],j=Object(a.useState)(new q.d("","")),p=Object(l.a)(j,2),h=p[0],g=p[1],O=Object(X.b)().sendTransactionWallet;return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:function(){o(!0)},className:"btn btn-primary mb-3",children:"Delegate"}),Object(F.jsx)(J,{show:s,balance:t.balance.toString(),handleClose:function(){o(!1)},handleContinue:function(e){var t=new q.d(e,"delegate");n||c?(o(!1),g(t),m(!0)):O(t)}}),Object(F.jsx)(Y.a,{show:b,transactionArguments:h,handleClose:function(){m(!1)}})]})},ee=n(117),te=function(e){var t=e.show,n=e.title,a=e.balance,c=e.description,r=e.handleClose,i=e.handleContinue,s=Object(f.b)(),o=s.egldLabel,l=s.minDelegationAmount,d=Object(Q.a)({balance:a,gasPrice:"0",gasLimit:"0",denomination:h.e,decimals:h.b}).entireBalance,u=Object(H.d)().shape({amount:Object(H.e)().required("Required").test("minimum","Minimum ".concat(Object(p.a)({input:l.toFixed(),denomination:h.e,decimals:h.b})," ").concat(o),(function(e){return new j.a(void 0!==e?e:"").comparedTo(1)>=0})).test("dustLeft","You can not keep under 1 ".concat(o,". Use the Max option."),(function(e){var t=new j.a(void 0!==e?e:""),n=new j.a(d);return n.minus(t).comparedTo(1)>=0||0===n.comparedTo(t)}))});return Object(F.jsx)(G.a,{show:t,onHide:r,className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(F.jsx)("p",{className:"h6 mb-spacer","data-testid":"undelegateTitle",children:n}),Object(F.jsx)("p",{className:"mb-spacer",children:c}),Object(F.jsx)(K.b,{initialValues:{amount:Object(p.a)({input:l.toFixed(),denomination:h.e,decimals:h.b})},onSubmit:function(e){i(e.amount.toString())},validationSchema:u,children:function(e){var t=e.handleSubmit,n=e.values,c=e.handleBlur,i=e.handleChange,s=e.setFieldValue,l=e.errors,u=e.touched;return Object(F.jsxs)("form",{onSubmit:t,className:"text-left",children:[Object(F.jsxs)("div",{className:"form-group mb-spacer",children:[Object(F.jsxs)("label",{htmlFor:"amount",children:["Amount ",o]}),Object(F.jsxs)("div",{className:"input-group",children:[Object(F.jsx)("input",{type:"number",className:"form-control ".concat(l.amount&&u.amount?"is-invalid":""),id:"amount",name:"amount","data-testid":"amount",min:1,step:"any",required:!0,value:n.amount,autoComplete:"off",onChange:i,onBlur:c}),n.amount!==d&&"0"!==d&&Object(F.jsx)("span",{className:"input-group-append",children:Object(F.jsx)("a",{href:"/#",className:"input-group-text text-dark",onClick:function(e){e.preventDefault(),void 0!==d&&s("amount",d)},"data-testid":"maxBtn",children:"Max"})}),Object(F.jsx)(K.a,{component:"div",name:"amount",className:"invalid-feedback"})]}),!(l.amount&&u.amount)&&Object(F.jsxs)("small",{className:"form-text",children:["Available: ",Object(F.jsx)(T,{value:a})]})]}),Object(F.jsx)(Z.a,{action:"Undelegate",actionTitle:"Continue",handleClose:r})]})}})]})})})},ne=function(e){var t=e.balance,n=Object(f.b)(),c=n.egldLabel,r=n.ledgerAccount,i=n.walletConnectAccount,s=Object(a.useState)(!1),o=Object(l.a)(s,2),d=o[0],u=o[1],b=Object(a.useState)(!1),m=Object(l.a)(b,2),j=m[0],p=m[1],h=Object(a.useState)(new q.d("","")),g=Object(l.a)(h,2),O=g[0],v=g[1],x=Object(X.b)().sendTransactionWallet;return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:function(){return u(!0)},className:"btn btn-primary ml-3 mb-3",children:"Undelegate"}),Object(F.jsx)(te,{show:d,balance:t,title:"Undelegate now",description:"Select the amount of ".concat(c," you want to undelegate."),handleClose:function(){u(!1)},handleContinue:function(e){var t=new q.d("0","unDelegate",Object(ee.b)(e));r||i?(u(!1),v(t),p(!0)):x(t)}}),Object(F.jsx)(Y.a,{show:j,transactionArguments:O,handleClose:function(){p(!1)}})]})},ae=function(e){var t=e.show,n=e.title,c=e.description,r=e.handleClose,i=Object(f.b)(),s=i.totalActiveStake,o=i.contractOverview,d=i.ledgerAccount,u=i.walletConnectAccount,b=Object(a.useState)(!1),m=Object(l.a)(b,2),p=m[0],h=m[1],g=Object(a.useState)(new q.d("","")),O=Object(l.a)(g,2),v=O[0],x=O[1],w=Object(X.b)().sendTransactionWallet;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(G.a,{show:t,onHide:r,className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(F.jsx)("p",{className:"h6 mb-spacer","data-testid":"claimRewardsTitle",children:n}),Object(F.jsx)("p",{className:"mb-spacer",children:c}),Object(F.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-wrap",children:[Object(F.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){!function(){var e=new q.d("0","claimRewards");d||u?(r(),x(e),h(!0)):w(e)}()},children:"Claim Rewards"}),function(){var e=new j.a(s),t=new j.a(o.maxDelegationCap);return!(e.comparedTo(t)>=0&&"true"===o.reDelegationCap)}()&&Object(F.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){!function(){var e=new q.d("0","reDelegateRewards");d||u?(r(),x(e),h(!0)):w(e)}()},children:"Redelegate Rewards"})]}),Object(F.jsx)("button",{id:"closeButton",className:"btn btn-link mt-spacer mx-2",onClick:r,children:"Close"})]})})}),Object(F.jsx)(Y.a,{show:p,transactionArguments:v,handleClose:function(){h(!1)}})]})},ce=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:function(){c(!0)},className:"btn btn-primary mt-2",children:"Claim Rewards"}),Object(F.jsx)(ae,{show:n,title:"Claim rewards",description:"Choose what to do with your rewards",handleClose:function(){c(!1)}})]})},re=n(34),ie=n(49),se=function(e){var t=e.icon,n=e.iconClass,a=e.title,c=e.description,r=e.action;return Object(F.jsxs)("div",{className:"state m-auto p-spacer text-center",children:[t&&Object(F.jsx)(ie.a,{icon:t,className:n||"",size:"5x"}),a&&Object(F.jsx)("p",{className:"h4 mt-2 mb-1",children:a}),c&&Object(F.jsx)("div",{className:"mb-3",children:c}),r&&Object(F.jsx)(F.Fragment,{children:r})]})},oe=function(){var e=Object(f.b)(),t=e.dapp,n=e.address,c=e.egldLabel,r=e.delegationContract,i=e.loading,s=Object(f.c)(),o=w,d=v,u=a.useState("0"),b=Object(l.a)(u,2),m=b[0],j=b[1],g=a.useState("0"),x=Object(l.a)(g,2),y=x[0],N=x[1],C=a.useState("0"),S=Object(l.a)(C,2),A=S[0],k=S[1],q=a.useState(!1),E=Object(l.a)(q,2),D=E[0],L=E[1],T=a.useState(!1),R=Object(l.a)(T,2),P=R[0],I=R[1];return a.useEffect((function(){s({type:"loading",loading:!0}),o(t,n,r).then((function(e){var t=e.outputUntyped();t.length>0&&0!==Object(O.decodeUnsignedNumber)(t[0])&&L(!0),k(Object(p.a)({denomination:h.e,decimals:4,input:Object(O.decodeBigNumber)(t[0]).toFixed()})||"")})).catch((function(e){return console.error("getClaimableRewards error",e)})),d(t,n,r).then((function(e){var t=e.outputUntyped();j(Object(p.a)({denomination:h.e,decimals:h.b,input:Object(O.decodeBigNumber)(t[0]).toFixed()})||""),N(Object(O.decodeBigNumber)(t[0]).toFixed()),t.length>0&&0!==Object(O.decodeUnsignedNumber)(t[0])&&I(!0),s({type:"loading",loading:!1})})).catch((function(e){console.error("getUserActiveStake error",e),s({type:"loading",loading:!1})}))}),[]),Object(F.jsx)(F.Fragment,{children:i?Object(F.jsx)(se,{icon:re.f,iconClass:"fa-spin text-primary"}):Object(F.jsx)("div",{className:"card mt-spacer",children:Object(F.jsxs)("div",{className:"card-body p-spacer",children:[Object(F.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between",children:[Object(F.jsx)("p",{className:"h6 mb-3",children:"My Stake"}),m!==String(0)&&Object(F.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(F.jsx)($,{}),P&&Object(F.jsx)(ne,{balance:y})]})]}),Object(F.jsxs)("div",{className:"m-auto text-center py-spacer",children:[m===String(0)?Object(F.jsx)(se,{title:"No Stake Yet",description:"Welcome to our platform!",action:Object(F.jsx)($,{})}):Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{className:"m-0",children:"Active Delegation"}),Object(F.jsxs)("p",{className:"h4",children:[m," ",c]})]}),Object(F.jsx)("div",{children:Object(F.jsxs)("p",{className:"text-muted",children:[A," ",c," Claimable rewards"]})}),D?Object(F.jsx)(ce,{}):null]})]})})})},le=n(68),de=n.n(le),ue=function(e){var t=e.undelegatedValue,n=c.a.useState(!0),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(f.b)(),d=o.egldLabel,u=o.ledgerAccount,b=o.walletConnectAccount,m=c.a.useState(t.timeLeft),j=Object(l.a)(m,2),p=j[0],h=j[1],g=Object(a.useState)(!1),O=Object(l.a)(g,2),v=O[0],x=O[1],w=Object(a.useState)(new q.d("","")),y=Object(l.a)(w,2),N=y[0],C=y[1],S=Object(X.b)().sendTransactionWallet;Object(a.useEffect)((function(){p>0&&setTimeout((function(){return h(p-1)}),1e3),0===p&&s(!1)}),[p]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:Object(F.jsxs)("div",{className:"d-flex align-items-center text-nowrap trim",children:[t.value," ",d]})}),Object(F.jsx)("td",{children:Object(F.jsx)("div",{className:"d-flex align-items-center text-nowrap trim",children:t.timeLeft>0?Object(F.jsxs)("span",{className:"badge badge-sm badge-light-orange text-orange",children:[function(){0===p&&h(t.timeLeft);var e=de.a.duration(p,"seconds").asMilliseconds();return de.a.utc(e).format("HH:mm:ss")}()," left"]}):Object(F.jsx)("span",{className:"badge badge-sm badge-light-green text-green",children:"Completed"})})}),Object(F.jsx)("td",{children:Object(F.jsx)("button",{disabled:i,onClick:function(){var e=new q.d("0","withdraw");u||b?(C(e),x(!0)):S(e)},className:"btn btn-primary btn-sm d-flex ml-auto",children:"Withdraw"})})]}),Object(F.jsx)(Y.a,{show:v,transactionArguments:N,handleClose:function(){x(!1)}})]})},be=n(18),me=function e(t,n){Object(be.a)(this,e),this.value=void 0,this.timeLeft=void 0,this.value=t,this.timeLeft=n},je=function(){var e=Object(f.b)(),t=e.dapp,n=e.address,c=e.delegationContract,r=e.networkConfig,i=x,s=a.useState(Array()),o=Object(l.a)(s,2),d=o[0],u=o[1],b=function(e,t,n){var a=0,c=e.outputUntyped();""!==Object(O.decodeString)(c[t+1])&&(a=function(e,t,n){var a=e.outputUntyped(),c=r.roundsPerEpoch-r.roundsPassedInCurrentEpoch,i=Object(O.decodeUnsignedNumber)(a[t+1]);return(c+(i>1?(i-1)*r.roundsPerEpoch:0))*r.roundDuration/1e3}(e,t));var i=new me(function(e){return Object(p.a)({denomination:h.e,decimals:h.b,input:e})}(Object(O.decodeBigNumber)(c[t]).toFixed()),a);return n.push(i),t};return a.useEffect((function(){i(t,n,c).then((function(e){for(var t=new Array,n=0;n<e.returnData.length;n++)b(e,n,t),n++;var a=function(e){var t=e.filter((function(e){return 0!==e.timeLeft})),n=e.filter((function(e){return 0===e.timeLeft})).reduce((function(e,t){return e+(parseInt(t.value.replace(/,/g,""))||0)}),0);return 0!==n&&t.push(new me(n.toString(),0)),t}(t);u(a.sort((function(e,t){return e.timeLeft-t.timeLeft})))})).catch((function(e){return console.error("getUserUnDelegatedList error",e)}))}),[r]),Object(F.jsx)(F.Fragment,{children:d.length>0&&Object(F.jsx)("div",{className:"card mt-spacer",children:Object(F.jsxs)("div",{className:"card-body p-spacer",children:[Object(F.jsx)("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-spacer",children:Object(F.jsx)("p",{className:"h6 mb-0",children:"Pending Withdrawals"})}),Object(F.jsx)("div",{className:"table-responsive",children:Object(F.jsxs)("table",{className:"table table-borderless mb-0",children:[Object(F.jsx)("thead",{className:"text-uppercase font-weight-normal",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Undelegated Amount"}),Object(F.jsx)("th",{children:"Wait Time"}),Object(F.jsx)("th",{children:"Action"})]})}),Object(F.jsx)("tbody",{children:d.map((function(e,t){return Object(F.jsx)(ue,{undelegatedValue:e},t)}))})]})})]})})})},pe=n(13),he=n(414),fe=n(862),ge=n(860),Oe=function(e){var t=e.title,n=void 0===t?"":t,a=e.value,c=void 0===a?"0":a,r=e.valueUnit,i=void 0===r?"":r,s=e.color,o=void 0===s?"":s,l=e.svg,d=void 0===l?"":l,u=e.percentage,b=void 0===u?"":u,m=e.tooltipText,j=void 0===m?"":m,p=e.children,h=void 0===p?null:p;return Object(F.jsxs)("div",{className:"statcard card-bg-".concat(o," text-white py-3 px-4 mb-spacer ml-spacer rounded"),children:[Object(F.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1 mb-2",children:[Object(F.jsx)("div",{className:"icon my-1 fill-white",children:Object(F.jsx)(he.a,{src:"/"+d,className:"text-white"})}),Object(F.jsx)("div",{children:h})]}),Object(F.jsx)("span",{className:"opacity-6",children:n}),Object(F.jsxs)("p",{className:"h5 mb-0",children:[c," ",i]}),Object(F.jsxs)("small",{className:"opacity-5",children:[b,""!==j&&Object(F.jsx)(fe.a,{placement:"top",delay:{show:250,hide:400},overlay:function(e){return Object(F.jsx)(ge.a,Object(pe.a)(Object(pe.a)({id:"button-tooltip"},e),{},{children:j}))},children:Object(F.jsx)(ie.a,{icon:re.h,className:"text-white ml-1"})})]})]})},ve=Object(H.d)().shape({amount:Object(H.e)().required("Required").test("minimum","Minimum fee percentage is 0.01",(function(e){return parseFloat(void 0!==e?e:"")>0})).test("minimum","Maximum fee percentage is 100",(function(e){return parseFloat(void 0!==e?e:"")<=100}))}),xe=function(e){var t=e.show,n=e.handleClose,a=e.handleContinue;return Object(F.jsx)(G.a,{show:t,onHide:n,className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body text-center p-spacer",children:[Object(F.jsx)("p",{className:"h6 mb-spacer","data-testid":"baseActionModal",children:"Change service fee"}),Object(F.jsx)("p",{className:"mb-spacer",children:"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(F.jsx)(K.b,{initialValues:{amount:""},onSubmit:function(e){a(e.amount)},validationSchema:ve,children:function(e){var t=e.handleSubmit,a=e.values,c=e.handleBlur,r=e.handleChange,i=e.errors,s=e.touched;return Object(F.jsxs)("form",{onSubmit:t,className:"text-left",children:[Object(F.jsxs)("div",{className:"form-group mb-spacer mb-0",children:[Object(F.jsx)("label",{htmlFor:"amount",children:"Add the percentage fee"}),Object(F.jsx)("input",{type:"number",className:"form-control ".concat(i.amount&&s.amount?"is-invalid":""),id:"amount",name:"amount","data-testid":"amount",required:!0,value:a.amount,autoComplete:"off",onChange:r,onBlur:c}),!(i.amount&&s.amount)&&Object(F.jsx)("small",{className:"form-text",children:"For example: 12.30"}),Object(F.jsx)(K.a,{component:"div",name:"amount",className:"invalid-feedback"})]}),Object(F.jsx)(Z.a,{action:"setPercentageFe",actionTitle:"Continue",handleClose:n})]})}})]})})})},we=function(){var e=Object(f.b)(),t=e.ledgerAccount,n=e.walletConnectAccount,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],b=d[1],m=Object(a.useState)(new q.d("","")),j=Object(l.a)(m,2),p=j[0],h=j[1],g=Object(X.b)().sendTransactionWallet;return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:function(){return s(!0)},className:"btn btn-primary text-white btn-sm mr-n1",children:"Change"}),Object(F.jsx)(xe,{show:i,handleClose:function(){s(!1)},handleContinue:function(e){var a=new q.d("0","changeServiceFee",function(e){var t=(100*parseFloat(e)).toString(16);return t.length%2!==0&&(t="0"+t),t}(e));t||n?(s(!1),h(a),b(!0)):g(a)}}),Object(F.jsx)(Y.a,{show:u,transactionArguments:p,handleClose:function(){b(!1)}})]})},ye=function(e){var t=e.show,n=e.title,a=e.description,c=e.handleClose,r=e.handleContinue,i=Object(f.b)(),s=i.egldLabel,o=i.totalActiveStake;return Object(F.jsx)(G.a,{show:t,onHide:c,className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body text-center p-spacer",children:[Object(F.jsx)("p",{className:"h6 mb-spacer","data-testid":"delegateTitle",children:n}),Object(F.jsxs)("p",{className:"mb-spacer",children:["The delegation cap is the maximum amount of ",s," your agency can stake from delegators."]}),Object(F.jsx)(K.b,{initialValues:{amount:Object(p.a)({input:o,denomination:h.e,decimals:h.b,addCommas:!1})},onSubmit:function(e){r(e.amount.toString())},validationSchema:Object(H.d)().shape({amount:Object(H.c)().required("Required").test("minimum","Minimum ".concat(Object(p.a)({input:o,denomination:h.e,decimals:h.b,addCommas:!1})," ").concat(s," or 0 ").concat(s),(function(e){var t=new j.a(void 0!==e?e:"");return t.comparedTo(Object(p.a)({input:o,denomination:h.e,decimals:h.b,addCommas:!1}))>=0||0===t.comparedTo(0)}))}),children:function(e){var t=e.handleSubmit,n=e.values,r=e.handleBlur,i=e.handleChange,s=e.errors,o=e.touched;return Object(F.jsxs)("form",{onSubmit:t,className:"text-left",children:[Object(F.jsxs)("div",{className:"form-group mb-spacer",children:[Object(F.jsx)("label",{htmlFor:"amount",children:a}),Object(F.jsx)("input",{type:"number",className:"form-control ".concat(s.amount&&o.amount?"is-invalid":""),id:"amount",name:"amount","data-testid":"amount",required:!0,min:"0",step:"any",value:n.amount,autoComplete:"off",onChange:i,onBlur:r}),Object(F.jsx)(K.a,{component:"div",name:"amount",className:"invalid-feedback"})]}),Object(F.jsx)(Z.a,{action:"Undelegate",actionTitle:"Continue",handleClose:c})]})}})]})})})},Ne=function(){var e=Object(f.b)(),t=e.ledgerAccount,n=e.walletConnectAccount,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],b=d[1],m=Object(a.useState)(new q.d("","")),p=Object(l.a)(m,2),h=p[0],g=p[1],O=Object(X.b)().sendTransactionWallet;return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:function(){return s(!0)},className:"btn btn-primary btn-sm text-white mr-n1",children:"Change"}),Object(F.jsx)(ye,{show:i,title:"Delegation cap",description:"Update Delegation Cap",handleClose:function(){s(!1)},handleContinue:function(e){var a=new q.d("0","modifyTotalDelegationCap",function(e){var t=e&&e.length>0?new j.a(Object(ee.a)(e)).toString(16):"0";return t.length%2!==0&&(t="0"+t),t}(e));t||n?(s(!1),g(a),b(!0)):O(a)}}),Object(F.jsx)(Y.a,{show:u,transactionArguments:h,handleClose:function(){b(!1)}})]})},Ce=n(408),Se=n(409),Ae=function(){var e=Object(f.b)(),t=e.dapp,n=e.egldLabel,c=e.totalActiveStake,r=e.numberOfActiveNodes,i=e.address,s=e.contractOverview,o=e.aprPercentage,d=e.numUsers,u=Object(a.useState)(new O.NetworkStake),b=Object(l.a)(u,2),m=b[0],j=b[1],g=function(e,t){var n=parseInt(e.replace(/,/g,""))/parseInt(t.replace(/,/g,""))*100;return n<1?"<1":n?n.toFixed(2):"..."},v=function(){return 0===new O.Address(i).hex().localeCompare(s.ownerAddress)},x=function(){return!0===window.location.pathname.includes("owner")};return a.useEffect((function(){t.apiProvider.getNetworkStake().then((function(e){j(e)})).catch((function(e){console.error("getTotalStake error ",e)}))}),[]),Object(F.jsxs)("div",{className:"cards d-flex flex-wrap mr-spacer",children:[Object(F.jsx)(Oe,{title:"Contract Stake",value:Object(p.a)({input:c,denomination:h.e,decimals:h.b}),valueUnit:n,color:"orange",svg:"contract.svg",percentage:"".concat(g(Object(p.a)({input:c,denomination:h.e,decimals:h.b}),Object(p.a)({input:m.TotalStaked.toFixed(),denomination:h.e,decimals:h.b})),"% of total stake")}),Object(F.jsx)(Oe,{title:"Number of Users",value:d.toString(),color:"orange",svg:"user.svg"}),Object(F.jsx)(Oe,{title:"Number of Nodes",value:r,valueUnit:"",color:"purple",svg:"nodes.svg",percentage:"".concat(g(r,m.TotalValidators.toString()),"% of total nodes")}),Object(F.jsx)(Oe,{title:"Computed APR",value:o,valueUnit:"",color:"orange",svg:"leaf-solid.svg",percentage:"Annual percentage rate incl. service fee",tooltipText:"This is an approximate APR calculation for this year based on the current epoch"}),Object(F.jsx)(Oe,{title:"Service Fee",value:s.serviceFee||"",valueUnit:"%",color:"red",svg:"service.svg",children:x()&&Object(F.jsx)(we,{})}),v()&&x()?Object(F.jsx)(Oe,{title:"Delegation Cap",value:Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})||"",valueUnit:n,color:"green",svg:"delegation.svg",percentage:"".concat(g(Object(p.a)({input:c,denomination:h.e,decimals:h.b}),Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})),"% filled"),children:Object(F.jsx)(Ne,{})}):"0"!==Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})&&""!==Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})&&Object(F.jsx)(Oe,{title:"Delegation Cap",value:Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})||"",valueUnit:n,color:"green",svg:"delegation.svg",percentage:"".concat(g(Object(p.a)({input:c,denomination:h.e,decimals:h.b}),Object(p.a)({decimals:h.b,denomination:h.e,input:s.maxDelegationCap})),"% filled")}),v()&&x()&&Object(F.jsx)(Oe,{title:"Automatic activation",value:"true"===s.automaticActivation?"ON":"OFF",color:"purple",svg:"activation.svg",children:Object(F.jsx)(Ce.a,{automaticFlag:s.automaticActivation})}),v()&&x()&&Object(F.jsx)(Oe,{title:"ReDelegate Cap",value:"true"===s.reDelegationCap?"ON":"OFF",color:"green",svg:"activation.svg",percentage:"Cap for rewards",tooltipText:"If your agency uses a max delegation cap and the ReDelegate Cap is OFF your delegators will be able to redelegate the reward to your agency. If the value is ON then the redelegate will not be accepted.",children:Object(F.jsx)(Se.a,{automaticFlag:s.reDelegationCap})})]})},ke=n(410),qe=n(22),Ee=function(){var e=Object(o.h)().pathname,t=Object(f.c)(),n=Object(f.b)(),c=n.address,r=n.delegationContract,i=n.contractOverview,l=n.ledgerAccount,d=n.walletConnectAccount,u=function(){return 0===new O.Address(c).hex().localeCompare(i.ownerAddress)},b=function(){return!0===window.location.pathname.includes("owner")};return Object(a.useEffect)((function(){if(Object(qe.a)("ledgerLogin")&&!l){var e=Object(qe.a)("ledgerLogin");t({type:"setLedgerAccount",ledgerAccount:{index:e.index,address:c}})}}),[]),Object(a.useEffect)((function(){Object(qe.a)("walletConnectLogin")&&!d&&t({type:"setWalletConnectAccount",walletConnectAccount:c})}),[]),Object(F.jsxs)("div",{className:"header card-header d-flex align-items-center border-0 justify-content-between px-spacer",children:[Object(F.jsxs)("div",{className:"py-spacer text-truncate",children:[Object(F.jsx)("p",{className:"opacity-6 mb-0",children:"Contract Address"}),Object(F.jsx)("span",{className:"text-truncate",children:r})]}),Object(F.jsxs)("div",{className:"d-flex justify-content-center align-items-center justify-content-between",children:[u()&&!b()?Object(F.jsx)(s.b,{to:"/owner",className:"btn btn-primary btn-sm",children:"Admin"}):null,"/dashboard"!==e?Object(F.jsx)(s.b,{to:"/dashboard",className:"btn btn-primary btn-sm",children:"Dashboard"}):null,u()&&b()?Object(F.jsx)(ke.a,{}):null]})]})},De=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Ee,{}),Object(F.jsx)(Ae,{})]})},Fe=function(){var e=Object(f.b)(),t=e.loggedIn,n=e.dapp,c=e.address,r=e.networkConfig,i=e.ledgerAccount,s=e.walletConnectAccount,l=Object(f.c)(),d=Object(qe.a)("ledgerLogin")&&!i,u=Object(qe.a)("walletConnectLogin")&&!s;return Object(a.useEffect)((function(){n.proxy.getAccount(new O.Address(c)).then((function(e){l({type:"setAccount",account:new q.a(e.balance.toString(),e.nonce)})}))}),[]),Object(a.useEffect)((function(){if(d){var e=Object(qe.a)("ledgerLogin");l({type:"setLedgerAccount",ledgerAccount:{index:e.index,address:c}})}u&&l({type:"setWalletConnectAccount",walletConnectAccount:c})}),[]),t?Object(F.jsx)("div",{className:"dashboard w-100",children:Object(F.jsxs)("div",{className:"card border-0",children:[Object(F.jsx)(De,{}),-1===r.roundDuration?Object(F.jsx)(se,{icon:re.f,iconClass:"fa-spin text-primary"}):Object(F.jsxs)("div",{className:"card-body pt-0 px-spacer pb-spacer",children:[Object(F.jsx)(oe,{}),Object(F.jsx)(je,{})]})]})}):Object(F.jsx)(o.a,{to:"/"})},Le=function(){var e=Object(f.c)(),t=Object(f.b)().dapp;return Object(a.useEffect)((function(){Object(qe.a)("wallet_login")&&(e({type:"loading",loading:!0}),t.provider.init().then((function(n){n?t.provider.getAddress().then((function(t){Object(qe.b)("wallet_login"),e({type:"login",address:t})})).then((function(n){return t.proxy.getAccount(new O.Address(Object(qe.a)("address"))).then((function(t){return e({type:"setAccount",account:new q.a(t.balance.toString(),t.nonce)})}))})).catch((function(t){e({type:"loading",loading:!1})})):e({type:"loading",loading:!1})})))}),[t.provider,t.proxy]),Object(F.jsx)("button",{onClick:function(){e({type:"loading",loading:!0}),t.provider.init().then((function(n){n?(Object(qe.c)("wallet_login",{},60),t.provider.login()):(e({type:"loading",loading:!0}),console.warn("Something went wrong trying to redirect to wallet login.."))})).catch((function(t){e({type:"loading",loading:!1}),console.warn(t)}))},className:"btn btn-primary px-sm-spacer mx-1 mx-sm-3",children:"Wallet"})},Te=n(183),Re=n.n(Te),Pe=function(){return Object(F.jsx)("a",{href:""+"/walletconnect?mobileplatform=".concat("iOS"===Re.a.os.family||"Android"===Re.a.os.family),className:"btn btn-primary px-sm-spacer mx-1 mx-sm-3",children:"Maiar"})},Ie=function(){var e=Object(f.b)(),t=e.loading,n=e.error,a=e.loggedIn,r=e.egldLabel,i=c.a.useRef(null);return Object(F.jsx)("div",{ref:i,className:"home d-flex flex-fill align-items-center",children:n?Object(F.jsx)(se,{icon:re.a,iconClass:"text-primary",title:"Something went wrong",description:"If the problem persists please contact support."}):a?Object(F.jsx)(o.a,{to:"/dashboard"}):t?Object(F.jsx)(se,{icon:re.f,iconClass:"fa-spin text-primary"}):Object(F.jsx)("div",{className:"m-auto login-container",children:Object(F.jsx)("div",{className:"card my-spacer text-center",children:Object(F.jsxs)("div",{className:"card-body p-spacer mx-lg-spacer",children:[Object(F.jsx)(M,{className:"logo mb-spacer"}),Object(F.jsx)("h4",{className:"mb-spacer",children:"Elrond Delegation Manager"}),Object(F.jsxs)("p",{className:"lead mb-spacer",children:["Delegate Elrond (",r,") and earn up to 25% APY!"]}),Object(F.jsx)("p",{className:"mb-spacer",children:"Please select your login method:"}),Object(F.jsxs)("div",{children:[Object(F.jsx)("a",{href:"/ledger",className:"btn btn-primary px-sm-spacer mx-1 mx-sm-3",children:"Ledger"}),Object(F.jsx)(Le,{}),Object(F.jsx)(Pe,{})]})]})})})})},Ue=function(e,t){return function(){var n=Object(a.memo)(t);return Object(a.useEffect)((function(){document.title=e}),[]),Object(F.jsx)(n,{})}},Me=n(45),_e=n(861),Be={unJail:{label:"Unjail",transaction:"unJail"},unStake:{label:"Unstake",transaction:"unStake"},reStake:{label:"ReStake",transaction:"reSreStakeUnStakedNodestake"},unBond:{label:"Unbond",transaction:"unBond"},stake:{label:"Stake",transaction:"stake"},remove:{label:"Remove",transaction:"remove"}},ze={notStaked:"Inactive",unStaked:"UnStaked",staked:"Staked",jailed:"Jail",queued:"Queued"},We={unStake:function(e){var t=e.blsKey;return new q.d("0","unStakeNodes",t)},reStake:function(e){var t=e.blsKey;return new q.d("0","reStakeUnStakedNodes",t)},unJail:function(e){var t=e.blsKey;return new q.d("2.5","unJailNodes",t)},unBond:function(e){var t=e.blsKey;return new q.d("0","unBondNodes",t)},stake:function(e){var t=e.blsKey;return new q.d("0","stakeNodes","".concat(t))},remove:function(e){var t=e.blsKey;return new q.d("0","removeNodes","".concat(t))}},Ve={staked:["unStake"],jailed:["unJail"],unStaked:["unBond","reStake"],queued:["unStake"],notStaked:["stake","remove"]},Ke=function(e){var t=e.blsKey,n=Object(f.b)(),r=n.explorerAddress,i=n.dapp,s=n.ledgerAccount,o=n.walletConnectAccount,d=Object(a.useState)(!1),u=Object(l.a)(d,2),b=u[0],m=u[1],j=Object(a.useState)(new q.d("","")),p=Object(l.a)(j,2),g=p[0],v=p[1],x=Object(X.b)().sendTransactionWallet,w=c.a.useRef(null),y=c.a.useState(0),N=Object(l.a)(y,2),C=N[0],S=N[1];c.a.useEffect((function(){var e=new O.Query({address:new O.Address(h.l),func:new O.ContractFunction("getRemainingUnBondPeriod"),args:[O.BytesValue.fromHex(t.blsKey)]});"unStaked"===t.status.key&&i.proxy.queryContract(e).then((function(e){var t=e.outputUntyped(),n=Object(O.decodeUnsignedNumber)(t[0]),a=void 0!==n?n:0;null!==w.current&&S(6*a)})).catch((function(e){return console.error("fetchUnBondPeriod error ",e)}))}),[t.blsKey,t.status]);var A="staked"===t.status.key?"green":"jailed"===t.status.key?"red":"orange";return Object(F.jsxs)("tr",{ref:w,children:[Object(F.jsx)("td",{children:Object(F.jsxs)("div",{className:"d-flex align-items-center text-nowrap trim",children:[Object(F.jsx)("span",{className:"text-truncate",children:t.blsKey}),Object(F.jsx)("a",{href:"".concat(r,"nodes/").concat(t.blsKey),target:"_blank",className:"ml-2",children:Object(F.jsx)(ie.a,{icon:re.i,className:"text-muted"})})]})}),Object(F.jsx)("td",{children:"queued"===t.status.key&&t.queueIndex&&t.queueSize?Object(F.jsxs)("span",{className:"badge badge-sm badge-light-".concat(A," text-").concat(A),children:[t.status.value," (",t.queueIndex,"/",t.queueSize,")"]}):Object(F.jsx)("span",{className:"badge badge-sm badge-light-".concat(A," text-").concat(A),children:t.status.value})}),Object(F.jsx)("td",{children:Object(F.jsxs)(_e.a,{className:"ml-auto",children:[Object(F.jsx)(_e.a.Toggle,{variant:"",className:"btn btn-sm btn-primary action-dropdown",children:Object(F.jsx)(ie.a,{icon:re.b,className:"fa-2x"})}),Object(F.jsx)(_e.a.Menu,{children:Object.keys(Be).map((function(e){var n=e,a=Ve[t.status.key].includes(n);return a&&"unBond"===n&&0!==C&&(a=!1),Object(F.jsxs)(_e.a.Item,{className:"dropdown-item ".concat(a?"":"disabled"),onClick:function(e){e.preventDefault(),a&&function(e){var n=We[e]({blsKey:t.blsKey});s||o?(v(n),m(!0)):x(n)}(n)},children:[Be[n].label," ","unBond"===n&&0!==C&&Object(F.jsxs)("span",{className:"text-muted",children:["(",de.a.utc(de.a.duration(C,"seconds").asMilliseconds()).format("HH:mm:ss")," ","left)"]})]},n)}))})]})}),Object(F.jsx)(Y.a,{show:b,transactionArguments:g,handleClose:function(){m(!1)}})]})},He=function e(t,n,a,c){Object(be.a)(this,e),this.blsKey=void 0,this.status=void 0,this.queueIndex=void 0,this.queueSize=void 0,this.blsKey=t,this.status=n,this.queueIndex=a,this.queueSize=c},Ge=function(e,t){var n=new O.Query({address:new O.Address(t),func:new O.ContractFunction("getAllNodeStates")});return new Promise((function(t){e.proxy.queryContract(n).then((function(e){var n=new Array,a=e.outputUntyped();return Ye(a,n,[]),t(n)})).catch((function(e){return console.error("GetAllNodesStatus error ",e)}))}))},Qe=function(e,t,n){var a=new O.Query({address:new O.Address(h.a),func:new O.ContractFunction("getBlsKeysStatus"),args:[new O.AddressValue(new O.Address(n))]});return new Promise((function(n){e.proxy.queryContract(a).then((function(e){var a=new Array,c=e.outputUntyped();return Ye(c.reverse(),a,t),n(a)})).catch((function(e){return console.error("GetBlsKeysStatus error",e)}))}))},Ze=function(e){var t=new O.Query({address:new O.Address(h.l),func:new O.ContractFunction("getQueueSize")});return new Promise((function(n){e.proxy.queryContract(t).then((function(e){var t=e.outputUntyped();return n(Object(O.decodeString)(t[0]))})).catch((function(e){return console.error("getQueueSize error",e)}))}))},Je=function(e,t){var n=new O.Query({address:new O.Address(h.l),func:new O.ContractFunction("getQueueIndex"),caller:new O.Address(h.a),args:[O.BytesValue.fromHex(e)]});return new Promise((function(e){t.proxy.queryContract(n).then((function(t){var n=t.outputUntyped();return e(Object(O.decodeString)(n[0]))})).catch((function(e){return console.error("getQueueIndex error",e)}))}))},Ye=function(e,t,n){var a;e.forEach((function(e){!function(e){return!!ze[e]}(Object(O.decodeString)(e))?("queued"===a.key&&n.push(e.toString("hex")),t.push(new He(e.toString("hex"),a))):a={key:Object(O.decodeString)(e),value:ze[Object(O.decodeString)(e)]}}))},Xe=n(413),$e=n(179),et=function(e){var t=e.setFieldValue,n=e.fieldName,c=e.errors,r=e.pubKeyLength,i=e.multiple,s=e.unique,o=a.useState([]),d=Object(l.a)(o,2),m=d[0],j=d[1];a.useEffect((function(){if(m.length>0){var e=Object(Me.a)(m);e.forEach((function(t){t.errors=function(e,t){var n=[];return e.length!==r&&n.push("length"),!0===s&&t.filter((function(t){return t.pubKey===e})).length>1&&n.push("unique"),n}(t.pubKey,e)})),t(n,e)}}),[m]);var p=function(e){var t=e.existing,n=e.name,a=e.pubKey,c=e.value,r=e.signature,i=Object(Me.a)(t),s=i.find((function(e){return e.name===n}));return s?s.value=c:i.push({id:"".concat(n,"-").concat(de()().unix()),name:n,pubKey:a,value:c,signature:r,errors:[]}),i},h=Object(f.b)().delegationContract,g=Object(Xe.a)({accept:".pem",multiple:i,onDrop:function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,t){return function(){var n=Object(b.a)(u.a.mark((function n(a){var c,r,i,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object($e.a)(e.result,h);case 3:c=n.sent,r=c.value,i=c.pubKey,s=c.signature,j((function(e){return p({existing:e,value:r,pubKey:i,name:t,signature:s})})),n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(0),console.error("error decode pem",n.t0),j((function(e){return p({existing:e,value:"",pubKey:"",name:t,signature:""})})),n.abrupt("return");case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},t.forEach((function(e){var t=e.name,a=new FileReader;a.onload=n(a,t),a.readAsText(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),O=g.getRootProps,v=g.getInputProps,x=g.isDragActive,w=function(e){e.preventDefault()},y=function(e){e.preventDefault(),e.stopPropagation()},N=c[n]?"is-invalid":"",C=!1===i?"file":"files",S=v();return!1===i&&delete S.multiple,Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",Object(pe.a)(Object(pe.a)({},O({className:"dropzone border border-muted rounded ".concat(m.length>0?"p-0":"p-3"," ").concat(N)})),{},{children:[Object(F.jsx)("input",Object(pe.a)(Object(pe.a)({},S),{},{"data-testid":"inputPem"})),x?Object(F.jsxs)("div",{className:"dropzone-area text-center",children:["Drag and drop your PEM ",C," here, or"," ",Object(F.jsxs)("a",{href:"/",onClick:w,children:["Select ",C]})]}):Object(F.jsx)(F.Fragment,{children:m.length>0?Object(F.jsx)("div",{className:"dropzone-area text-center has-file",children:m.map((function(e,a){var c=e.id,r=e.name,i=e.errors;return Object(F.jsx)("div",{className:"file border rounded m-1 ".concat(i.length>0?"border-danger":""," "),onClick:y,children:Object(F.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(F.jsx)("p",{className:"ml-2 mb-0",id:c,"data-testid":"uploadLabel".concat(a),children:r}),Object(F.jsx)("span",{className:"pr-2",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){j((function(a){var c=Object(Me.a)(a);return c=c.filter((function(t){return t.id!==e})),t(n,c),c}))}(c)},style:{cursor:"pointer",userSelect:"none",verticalAlign:"-0.1rem"},children:Object(F.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},c)}))}):Object(F.jsxs)("div",{className:"dropzone-area text-center ".concat(N),children:["Drag and drop your PEM ",C," here, or"," ",Object(F.jsxs)("a",{href:"/",onClick:w,children:["Select ",C]})]})})]})),N&&Object(F.jsx)("p",{"data-testid":"pemError",children:Object(F.jsx)("small",{className:"text-danger",children:c[n]})})]})},tt=function(e){var t=e.handleClose,n=e.onSubmit,c=a.useRef(null);return Object(F.jsx)(K.b,{initialValues:{pemFiles:[]},onSubmit:function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.pemFiles,n(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Object(H.d)().shape({pemFiles:Object(H.a)().of(Object(H.b)()).test("validKeyLength","Invalid PEM file",(function(e){return!!e&&e.every((function(e){return!e.errors.includes("length")}))})).test("keyIsUnique","Duplicate key detected",(function(e){return!!e&&e.every((function(e){return!e.errors.includes("unique")}))})).required("PEM file is required")}),children:function(e){var n=e.setFieldValue,a=e.handleSubmit,r=e.errors;return Object(F.jsxs)("form",{onSubmit:a,ref:c,children:[Object(F.jsx)("div",{className:"form-group mb-0",children:Object(F.jsx)(et,{setFieldValue:n,fieldName:"pemFiles",errors:r,pubKeyLength:192,unique:!0,multiple:!0})}),Object(F.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-wrap mt-spacer",children:Object(F.jsx)(Z.a,{action:"addNodes",actionTitle:"Add nodes",handleClose:t})})]})}})},nt=function(e){var t=e.name,n=e.show,c=e.variables,r=e.data,i=e.handleClose,s=e.triggerDispatchEvent,o=a.useState({}),d=Object(l.a)(o,2),u=d[0],b=d[1],m=function(e){"string"!==typeof r&&s("".concat(r(e||u)))};return Object(F.jsx)(G.a,{show:n,className:"modal-container",animation:!1,centered:!0,children:Object(F.jsx)("div",{className:"card",children:Object(F.jsxs)("div",{className:"card-body p-spacer text-center",children:[Object(F.jsx)("p",{className:"h6 mb-0","data-testid":"delegateTitle",children:t}),Object(F.jsx)("div",{className:"mt-spacer",children:null===c||void 0===c?void 0:c.map((function(e){return Object(F.jsxs)("div",{children:["input"===e.type&&Object(F.jsxs)("div",{className:"form-group text-left mt-3 mb-0",children:[Object(F.jsx)("label",{htmlFor:e.name,children:e.name}),Object(F.jsx)("div",{className:"input-group",children:Object(F.jsx)("input",{type:"text",className:"form-control",id:e.name,name:e.name,onChange:function(t){var n=Object(pe.a)({},u);n[e.name]=t.target.value,b(n)},autoComplete:"off"})})]}),Object(F.jsx)(tt,{handleClose:i,onSubmit:m})]},e.name)}))})]})})})},at=function(){var e=Object(f.b)(),t=e.ledgerAccount,n=e.walletConnectAccount,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),m=d[0],j=d[1],p=Object(a.useState)(new q.d("","")),h=Object(l.a)(p,2),g=h[0],v=h[1],x=Object(X.b)().sendTransactionWallet,w={data:function(e){return"".concat(function(e){var t="";return e.forEach((function(e){var n=e.pubKey,a=e.signature;t+="@".concat(n,"@").concat(a)})),t}(e))},variables:[{name:"pemFiles",type:"pemUpload"}]};return Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{onClick:Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.BLS.initIfNecessary();case 2:s(!0);case 3:case"end":return e.stop()}}),e)}))),className:"btn btn-primary ml-3 mb-3",children:"Add nodes"}),Object(F.jsx)(nt,{name:"Add nodes",show:i,handleClose:function(){s(!1)},triggerDispatchEvent:function(e){return function(e){var a=new q.d("0","addNodes",e);t||n?(s(!1),v(a),j(!0)):x(a)}(e)},variables:w.variables,data:w.data}),Object(F.jsx)(Y.a,{show:m,transactionArguments:g,handleClose:function(){j(!1)}})]})},ct=function(){var e=Object(f.b)(),t=e.dapp,n=e.delegationContract,c=Object(a.useState)(new Array),r=Object(l.a)(c,2),i=r[0],s=r[1],o=[],d=function(){var e=Object(b.a)(u.a.mark((function e(n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=5;break}return e.next=3,Promise.all([Ze(t)].concat(Object(Me.a)(n.map((function(e){return Je(e,t)})))));case 3:e.sent.forEach((function(e,t){if(0===t)c=e;else{var r=a.filter((function(e){return e.blsKey===n[t-1]})),i=Object(l.a)(r,1)[0];i.queueIndex=e,i.queueSize=c}}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Promise.all([Ge(t,n),Qe(t,o,n)]).then(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t,2),a=n[0],c=n[1],r=a.map((function(e){var t=c.findIndex((function(t){return t.blsKey===e.blsKey}));return Object(pe.a)(Object(pe.a)({},e),{},{status:t>=0?c[t].status:e.status})})),e.next=4,d(o,r);case 4:s(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("getDiplayNodes error",e)}))}),[]),Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"card mt-spacer",children:Object(F.jsxs)("div",{className:"card-body p-spacer",children:[Object(F.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-between mb-spacer",children:[Object(F.jsx)("p",{className:"h6 mb-3",children:"My Nodes"}),Object(F.jsx)("div",{className:"d-flex",children:Object(F.jsx)(at,{})})]}),i.length>0?Object(F.jsx)("div",{className:"table-responsive",children:Object(F.jsxs)("table",{className:"table table-borderless mb-0",children:[Object(F.jsx)("thead",{className:"text-uppercase font-weight-normal",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Public key"}),Object(F.jsx)("th",{children:"Status"}),Object(F.jsx)("th",{children:"Actions"})]})}),Object(F.jsx)("tbody",{children:i.map((function(e,t){return Object(F.jsx)(Ke,{blsKey:e,index:t},t)}))})]})}):Object(F.jsx)("span",{children:"No keys found for this contract."})]})})})},rt=function(){var e=Object(f.b)(),t=e.address,n=e.contractOverview,c=e.loggedIn,r=e.dapp,i=e.ledgerAccount,s=e.walletConnectAccount,l=Object(f.c)();Object(a.useEffect)((function(){r.proxy.getAccount(new O.Address(t)).then((function(e){l({type:"setAccount",account:new q.a(e.balance.toString(),e.nonce)})}))}),[]);var d=Object(qe.a)("ledgerLogin")&&!i,u=Object(qe.a)("walletConnectLogin")&&!s;return Object(a.useEffect)((function(){if(d){var e=Object(qe.a)("ledgerLogin");l({type:"setLedgerAccount",ledgerAccount:{index:e.index,address:t}})}u&&l({type:"setWalletConnectAccount",walletConnectAccount:t})}),[]),c?Object(F.jsx)(F.Fragment,{children:0===new O.Address(t).hex().localeCompare(n.ownerAddress)?Object(F.jsx)("div",{className:"owner w-100",children:Object(F.jsxs)("div",{className:"card border-0",children:[Object(F.jsx)(De,{}),Object(F.jsx)("div",{className:"card-body pt-0 px-spacer pb-spacer",children:Object(F.jsx)(ct,{})})]})}):Object(F.jsx)(o.a,{to:"/dashboard"})}):Object(F.jsx)(o.a,{to:"/"})},it=function(e){var t=e.account,n=e.index,c=e.setSelectedAddress,r=e.selectedAddress,i=e.setSelectedIndex,s=a.useRef(null);return Object(F.jsxs)("tr",{ref:s,children:[Object(F.jsx)("td",{className:"text-left",children:Object(F.jsxs)("div",{className:"d-flex align-items-start text-left form-check",children:[Object(F.jsx)("input",{type:"radio",id:"check_".concat(n),"data-testid":"check_".concat(n),onChange:function(e){var a=e.target.checked;a?(c(t),i(n)):r!==t||a||(c(""),i(void 0))},checked:r===t,className:"form-check-input mr-1 cursor-pointer"}),Object(F.jsx)("label",{htmlFor:"check_".concat(n),"data-testid":"label_".concat(n),className:"form-check-label text-nowrap trim-size-xl cursor-pointer m-0",children:Object(F.jsx)("div",{className:"d-flex align-items-center text-nowrap trim",children:Object(F.jsx)("span",{className:"text-truncate",children:t})})})]})}),Object(F.jsx)("td",{className:"text-left",children:n})]})},st=n(72),ot=function(e){var t=e.setShowAddressTable,n=(e.onClick,e.setError),c=Object(f.b)(),r=c.dapp,i=c.loading,s=Object(f.c)(),d=a.useState(0),u=Object(l.a)(d,2),b=u[0],m=u[1],j=a.useState([]),p=Object(l.a)(j,2),h=p[0],g=p[1],v=a.useState(""),x=Object(l.a)(v,2),w=x[0],y=x[1],N=a.useState(),C=Object(l.a)(N,2),S=C[0],A=C[1],k=new O.HWProvider(r.proxy),q=Object(o.g)();a.useEffect((function(){s({type:"loading",loading:!0}),k.init().then((function(e){if(!e)return s({type:"loading",loading:!1}),n("could not initialise ledger app, make sure Elrond app is open"),void console.warn("could not initialise ledger app, make sure Elrond app is open");k.getAccounts(b,5).then((function(e){g(e),s({type:"loading",loading:!1})})).catch((function(e){n("Check if Elrond app is open on Ledger"),console.error("error",e),s({type:"loading",loading:!1})}))})).catch((function(e){e.statusCode in st.a&&n(st.a[e.statusCode].message),console.error("error",e),s({type:"loading",loading:!1})}))}),[b]);switch(!0){case i:return Object(F.jsx)(se,{icon:re.f,iconClass:"fa-spin text-primary",title:"Waiting for device"});default:return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"m-auto",children:Object(F.jsx)("div",{className:"card my-spacer text-center",children:Object(F.jsxs)("div",{className:"card-body p-spacer mx-lg-spacer",children:[Object(F.jsx)("div",{className:"table-responsive","data-testid":"ledgerAddresses",children:Object(F.jsxs)("table",{className:"table m-0 border-bottom",children:[Object(F.jsx)("thead",{className:"py-2 text-semibold border-bottom",children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"text-left border-0",children:"Address"}),Object(F.jsx)("th",{className:"text-left border-0",children:"#"})]})}),Object(F.jsx)("tbody",{"data-testid":"addressesTable",children:h.map((function(e,t){var n={account:e,index:t+5*b,selectedAddress:w,setSelectedAddress:y,setSelectedIndex:A,key:t};return Object(F.jsx)(it,Object(pe.a)({},n))}))})]})}),Object(F.jsxs)("div",{className:"d-flex justify-content-center pager mt-2",children:[Object(F.jsxs)("button",{type:"button",className:"btn btn-link px-2",onClick:function(){y(""),m((function(e){return 0===e?0:e-1}))},"data-testid":"prevBtn",disabled:0===b,children:[Object(F.jsx)(ie.a,{size:"sm",icon:re.d})," Prev"]}),Object(F.jsxs)("button",{type:"button",className:"btn btn-link px-2",onClick:function(){y(""),m((function(e){return e+1}))},"data-testid":"nextBtn",children:["Next ",Object(F.jsx)(ie.a,{size:"sm",icon:re.e})]})]}),Object(F.jsx)("button",{className:"btn btn-primary px-spacer mt-4",disabled:""===w,onClick:function(){if(void 0!==S){s({type:"setLedgerAccount",ledgerAccount:{index:S,address:w}}),s({type:"loading",loading:!0});var e=new O.HWProvider(r.proxy,S);e.init().then((function(t){if(!t)return n("could not initialise ledger app, make sure Elrond app is open"),s({type:"loading",loading:!1}),void console.warn("could not initialise ledger app, make sure Elrond app is open");e.login().then((function(t){s({type:"setProvider",provider:e}),s({type:"login",address:t}),s({type:"ledgerLogin",ledgerLogin:{index:S,loginType:"ledger"}}),q.push("/dashboard")})).catch((function(e){e.statusCode in st.a&&(n(st.a[e.statusCode].message),s({type:"setLedgerAccount",ledgerAccount:void 0})),s({type:"loading",loading:!1}),console.warn(e)}))})).catch((function(e){e.statusCode in st.a&&n(st.a[e.statusCode].message),s({type:"loading",loading:!1}),console.warn("could not initialise ledger app, make sure Elrond app is open",e)})),t(!1)}},"data-testid":"confirmBtn",children:"Confirm"})]})})})})}},lt=function(){var e=Object(f.b)().ledgerAccount;return Object(F.jsx)("div",{className:"m-auto",children:Object(F.jsx)("div",{className:"card my-spacer text-center",children:Object(F.jsxs)("div",{className:"card-body p-spacer mx-lg-spacer",children:[Object(F.jsx)("h4",{className:"mb-spacer",children:"Confirm Ledger Address"}),Object(F.jsx)("p",{children:"For security, please confirm that your address: "}),Object(F.jsx)("p",{className:"lead",children:null===e||void 0===e?void 0:e.address}),Object(F.jsx)("p",{className:"m-0",children:"is the one shown on your Ledger device screen now. "}),Object(F.jsx)("p",{children:"Select Approve on your device to confirm."}),Object(F.jsxs)("p",{children:["Or, if it does not match, close this page and"," ",Object(F.jsx)("a",{href:"https://help.elrond.com/en/",target:"_blank",children:"contact support"}),"."]})]})})})};function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var bt=a.createElement("defs",null,a.createElement("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},a.createElement("stop",{id:"gradient-start-color",offset:"0%"}),a.createElement("stop",{id:"gradient-stop-color",offset:"100%",stopColor:"#FFF"})),a.createElement("path",{id:"b",d:"M91 0h34a4 4 0 0 1 4 4v108.144c0 11.519-9.337 20.856-20.856 20.856h-.288C96.337 133 87 123.663 87 112.144V4a4 4 0 0 1 4-4z"})),mt=a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{className:"ledger-stroke",stroke:"#1D2027",strokeWidth:2,d:"M127.856 31.44a1 1 0 0 1-1 1H100.63a5 5 0 0 1-5-5v-8.486a5 5 0 0 1 5-5h26.225a1 1 0 0 1 1 1v16.485z"}),a.createElement("path",{className:"ledger-stroke",stroke:"#142533",strokeWidth:2,d:"M95.247 26.231H84.318v-6.435h10.93v6.435z"}),a.createElement("path",{className:"ledger-stroke",stroke:"#1D2027",strokeWidth:2,d:"M127.923 28.726V17.471l6.977.083a1 1 0 0 1 .988 1V27.82a1 1 0 0 1-1.012.988l-6.953-.083z"}),a.createElement("path",{fill:"url(#a)",d:"M6.836 53.925h1.616v82.65H6.836v-82.65zm5.657 0h1.616v82.65h-1.616v-82.65z",transform:"matrix(0 -1 -1 0 137.5 33.44)"}),a.createElement("g",{transform:"rotate(-90 128.59 1.975)"},a.createElement("rect",{className:"ledger-fill",width:4.492,height:17.12,x:125.336,y:15.505,fill:"#142533",rx:2}),a.createElement("rect",{className:"ledger-fill",width:4.492,height:17.12,x:125.336,y:70.094,fill:"#142533",rx:2}),a.createElement("use",{className:"ledger-fill-inner-bg",fill:"#FFF",xlinkHref:"#b"}),a.createElement("path",{className:"ledger-stroke",fill:"#6490F1",fillOpacity:.15,stroke:"#142533",strokeLinejoin:"square",strokeWidth:2,d:"M91 1a3 3 0 0 0-3 3v108.144C88 123.11 96.89 132 107.856 132h.288C119.11 132 128 123.11 128 112.144V4a3 3 0 0 0-3-3H91z"}),a.createElement("rect",{className:"ledger-fill-outer-bg",width:21,height:62,x:97.5,y:21.5,fill:"#FFF",stroke:"#6490F1",rx:1.6}),a.createElement("path",{fill:"#6490F1",d:"M105.5 35h5a.5.5 0 0 1 .5.5v34a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-34a.5.5 0 0 1 .5-.5zm1.238 3.042l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.178-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.014l-.774.505.341.466.722-.578h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.171-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.898.551-.177-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.013l-.774.506.341.465.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.879.932.052v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.583-.34.472zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472z"}),a.createElement("path",{className:"ledger-stroke ledger-fill-outer-bg",fill:"#FFF",stroke:"#142533",strokeWidth:2,d:"M123.166 125.105c7.049-8.4 5.953-20.925-2.447-27.974l-90.824-76.21a3 3 0 0 0-4.227.37L4 47.115a3 3 0 0 0 .37 4.227l90.824 76.21c8.4 7.049 20.924 5.953 27.973-2.447z"}),a.createElement("ellipse",{cx:108.016,cy:111.123,stroke:"#6490F1",rx:10.57,ry:10.644})));function jt(e,t){var n=e.title,c=e.titleId,r=ut(e,["title","titleId"]);return a.createElement("svg",dt({id:"ledger-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:110,height:55,viewBox:"0 0 260 129",ref:t,"aria-labelledby":c},r),n?a.createElement("title",{id:c},n):null,bt,mt)}var pt=a.forwardRef(jt),ht=(n.p,function(e){var t=e.onClick,n=e.error,c=a.useState(n),r=Object(l.a)(c,1)[0];return Object(F.jsx)("div",{className:"m-auto login-container",children:Object(F.jsx)("div",{className:"card my-spacer text-center",children:Object(F.jsxs)("div",{className:"card-body p-spacer mx-lg-spacer",children:[Object(F.jsx)(pt,{className:" mb-spacer"}),Object(F.jsx)("h4",{className:"mb-spacer",children:"Connect Ledger"}),Object(F.jsx)("p",{className:"lead mb-spacer",children:"Unlock your device & open the Elrond App."}),Object(F.jsxs)("div",{children:[r&&Object(F.jsx)("p",{className:"text-danger d-flex justify-content-center align-items-center",children:r}),Object(F.jsx)("button",{className:"btn btn-primary px-spacer",onClick:t,"data-testid":"connectBtn",children:"Connect Ledger"})]})]})})})}),ft=function(){var e=Object(f.b)().dapp,t=Object(f.c)(),n=Object(o.g)(),a=Object(f.b)().ledgerAccount,r=c.a.useState(""),i=Object(l.a)(r,2),s=i[0],d=i[1],u=c.a.useState(!1),b=Object(l.a)(u,2),m=b[0],j=b[1],p=function(){if(d(""),void 0!==a){var c=new O.HWProvider(e.proxy);c.init().then((function(e){if(!e)return t({type:"loading",loading:!1}),void console.warn("could not initialise ledger app, make sure Elrond app is open");c.login().then((function(e){t({type:"setProvider",provider:c}),t({type:"login",address:e}),n.push("/dashboard")})).catch((function(e){d("Check if Elrond app is open on Ledger"),t({type:"loading",loading:!1}),console.warn(e)}))})).catch((function(e){console.error("error ",e)}))}else j(!0)};return Object(F.jsx)(F.Fragment,{children:function(){switch(!0){case void 0!==a&&!s:return Object(F.jsx)(lt,{});case m&&!s:return Object(F.jsx)(ot,{setShowAddressTable:j,onClick:p,setError:d});case""!==s:default:return Object(F.jsx)(ht,{onClick:p,error:s})}}()})},gt=n(412),Ot=n.n(gt),vt=[{path:"/",page:"home",title:"",component:Ie},{path:"/dashboard",page:"dashboard",title:"Dashboard",component:Fe},{path:"/ledger",page:"ledger",title:"Ledger login",component:ft},{path:"/walletconnect",page:"walletconnect",title:"Maiar login",component:function(){var e=Object(f.b)().dapp,t=Object(f.c)(),n=Object(o.g)(),c=Object(a.useState)(""),r=Object(l.a)(c,2),i=r[0],s=r[1],d=Object(a.useState)(""),m=Object(l.a)(d,2),j=m[0],p=m[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),x=v[0],w=v[1],y="true"===new URLSearchParams(window.location.search).get("mobileplatform"),N={dangerouslySetInnerHTML:{__html:i},style:{width:"15rem",height:"15rem"}};Object(a.useEffect)((function(){Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=5;break}return e.next=3,Ot.a.toString(j,{type:"svg"});case 3:t=e.sent,s(t);case 5:case"end":return e.stop()}}),e)})))()}),[j]);var C=function(){e.provider.getAddress().then((function(e){t({type:"setWalletConnectLogin",walletConnectLogin:{loginType:"walletConnect"}}),t({type:"login",address:e}),n.push("/dashboard")})).catch((function(e){w("Invalid address"),console.log(e)}))},S=function(){t({type:"logout",provider:e.provider})},A=function(){var t=Object(b.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new O.WalletConnectProvider(e.proxy,h.m,{onClientLogin:C,onClientLogout:S}),e.provider=n,t.next=4,n.login();case 4:a=t.sent,p(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){A()}),[]),Object(F.jsx)("div",{className:"m-auto login-container",children:Object(F.jsx)("div",{className:"card my-3 text-center",children:Object(F.jsxs)("div",{className:"card-body p-spacer mx-lg-spacer",children:[Object(F.jsx)("div",Object(pe.a)({className:"mx-auto mb-3"},N)),Object(F.jsx)("h4",{className:"mb-3",children:"Connect Maiar"}),Object(F.jsx)("p",{className:"lead mb-0",children:y?"Confirm the connection in the Maiar app":"Scan the QR code using Maiar"}),Object(F.jsx)("div",{children:x&&Object(F.jsx)("p",{className:"text-danger d-flex justify-content-center align-items-center",children:x})})]})})})}},{path:"/owner",page:"owner",title:"Owner",component:rt}].map((function(e){var t=e.title?"".concat(e.title," \u2022 Delegation Manager"):"Delegation Manager";return{path:e.path,page:e.page,component:Ue(t,e.component)}}));var xt=function(){return Object(F.jsx)(s.a,{basename:"",children:Object(F.jsx)(f.a,{children:Object(F.jsx)(o.d,{children:vt.map((function(e,t){return Object(F.jsx)(o.b,{path:e.path,component:e.component,exact:!0,children:Object(F.jsx)(V,{page:e.page,children:Object(F.jsx)(o.b,{path:e.path,component:e.component,exact:!0},e.path+t)})},e.path+t)}))})})})},wt=(n(851),Object(F.jsx)(xt,{}));i.a.render(wt,document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"m",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return f}));var a=n(26),c="5000000000000000",r=2,i=18,s=2e7,o=0,l=2500,d=.1,u=[{year:1,maximumInflation:.1084513},{year:2,maximumInflation:.09703538},{year:3,maximumInflation:.08561945},{year:4,maximumInflation:.07420352},{year:5,maximumInflation:.0627876},{year:6,maximumInflation:.05137167},{year:7,maximumInflation:.03995574},{year:8,maximumInflation:.02853982},{year:9,maximumInflation:.01712389},{year:10,maximumInflation:.00570796},{year:11,maximumInflation:0}],b="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqplllst77y4l",m="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqllls0lczs7",j="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqylllslmq6y6",p="https://bridge.walletconnect.org",h={id:"testnet",name:"Testnet",egldLabel:"xEGLD",walletAddress:"https://testnet-wallet.elrond.com/dapp/init",apiAddress:"https://testnet-api.elrond.com",gatewayAddress:"https://testnet-gateway.elrond.com",explorerAddress:"http://testnet-explorer.elrond.com/",delegationContract:"erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqp0llllswfeycs"};Object(a.d)({id:Object(a.e)().defined().required(),egldLabel:Object(a.e)().defined().required(),name:Object(a.e)().defined().required(),delegationContract:Object(a.e)(),walletAddress:Object(a.e)(),apiAddress:Object(a.e)(),gatewayAddress:Object(a.e)(),explorerAddress:Object(a.e)()}).required().validate(h,{strict:!0}).catch((function(e){var t=e.errors;console.error("Config invalid format for ".concat(h.id),t)}));var f=[{name:"createNewDelegationContract",gasLimit:6e6,data:"createNewDelegationContract@"},{name:"setAutomaticActivation",gasLimit:6e6,data:"setAutomaticActivation@"},{name:"setMetaData",gasLimit:6e6,data:"setMetaData@"},{name:"setReDelegateCapActivation",gasLimit:6e6,data:"setCheckCapOnReDelegateRewards@"},{name:"changeServiceFee",gasLimit:6e6,data:"changeServiceFee@"},{name:"modifyTotalDelegationCap",gasLimit:6e6,data:"modifyTotalDelegationCap@"},{name:"addNodes",gasLimit:12e6,data:"addNodes"},{name:"removeNodes",gasLimit:12e6,data:"removeNodes@"},{name:"stakeNodes",gasLimit:12e6,data:"stakeNodes@"},{name:"reStakeUnStakedNodes",gasLimit:12e7,data:"reStakeUnStakedNodes@"},{name:"unStakeNodes",gasLimit:12e6,data:"unStakeNodes@"},{name:"unBondNodes",gasLimit:12e6,data:"unBondNodes@"},{name:"unJailNodes",gasLimit:12e6,data:"unJailNodes@"},{name:"delegate",gasLimit:12e6,data:"delegate"},{name:"unDelegate",gasLimit:12e6,data:"unDelegate@"},{name:"withdraw",gasLimit:12e6,data:"withdraw"},{name:"claimRewards",gasLimit:6e6,data:"claimRewards"},{name:"reDelegateRewards",gasLimit:12e6,data:"reDelegateRewards"}]}},[[852,1,2]]]);
//# sourceMappingURL=main.2efd3296.chunk.js.map